<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="x-dns-prefetch-control" content="on">
    <link rel="dns-prefetch" href="https://o243f9mnq.qnssl.com/" />
    <link rel="dns-prefetch" href="//cdn.bootcss.com" />
    <link rel="dns-prefetch" href="//secure.gravatar.com" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    
    <link rel="shortcut icon" href="http://hackfox.vip/images/favicon.png">
    <link rel="apple-touch-icon" href="http://hackfox.vip/images/apple-touch-icon.png">
    <title>
        
         - hackfox
        
    </title>
    <meta name="keywords" content=" " />
    <meta name="description" content=" " />
    <link href="//cdn.bootcss.com/highlight.js/9.10.0/styles/xcode.min.css" rel="stylesheet">
    <link href="http://hackfox.vip/css/style.min.css?20170331" rel="stylesheet">
    
</head>


<body class="bg-white" gtools_scp_screen_capture_injected="true">
    
    <header id="header" class="header bg-white">
        <div class="navbar-container">
            <a href="http://hackfox.vip" class="navbar-logo" style="color: #5f5f5f">hackfox</a>
            <div class="navbar-menu">
            
                <a href="http://hackfox.vip/post/">Archives</a>  
            
                <a href="http://hackfox.vip/tags/">Tags</a>  
            
                <a href="http://hackfox.vip/about">About</a>  
            
            </div>
            
            <div class="navbar-mobile-menu" onclick=""> 
                <span class="icon-menu cross"><span class="middle"></span></span>
                <ul>
                
                <li><a href="http://hackfox.vip/post/">Archives</a></li> 
                
                <li><a href="http://hackfox.vip/tags/">Tags</a></li> 
                
                <li><a href="http://hackfox.vip/about">About</a></li> 
                
                </ul>
            </div>
        </div>
    </header>
    <article class="main-content page-page">
        <div class="post-header">
            <h1 class="post-title" itemprop="name headline">
                
            </h1>
            <div class="post-data">
                Published on Jan 1, 0001 ,2 min reading time
            </div>
        </div>
        <div id="post-content" class="post-content">
            
 <p>Linux</p>

<blockquote>
<p>进程
1.分为三类：交互式进程、批处理进程、守护进程
2.守护进程：最活跃、在后台运行
3.父进程与子进程
    1)父进程总结，子进程跟着总结；反之不然
4.工具：ps,kill,pgrep,top
5.状态：R-运行，S-睡眠，Z-僵尸<a href="http://www.jianshu.com/p/a146a8d383d4">http://www.jianshu.com/p/a146a8d383d4</a></p>

<p>awk使用
1.其中单引号中的被大括号括着的就是awk的语句，注意，其只能被单引号包含。
2.其中的$1..$n表示第几例。注：$0表示整个行。
    如：shell&gt;awk &lsquo;{print $1, $4}&rsquo; netstat.txt
3.格式化输出，如：shell&gt;awk &lsquo;{printf &ldquo;%-8s %-8s %-8s %-18s %-22s %-15s\n&rdquo;,$1,$2,$3,$4,$5,$6}&rsquo; netstat.txt
4.过滤记录，第三列为0且第六列为listen,如：shell&gt;awk &lsquo;$3==0 &amp;&amp; $6==&ldquo;LISTEN&rdquo; &lsquo; netstat.txt,
    #其中：“==”为比较运算符。其他比较运算符：!=, &gt;, &lt;, &gt;=, &lt;=
    e.g：shell&gt;awk &lsquo; $3&gt;0 {print $0}&rsquo; netstat.txt
    #如果我们需要表头的话，我们可以引入内建变量NR：
         shell&gt;awk &lsquo;$3==0 &amp;&amp; $6==&ldquo;LISTEN&rdquo; || NR==1 &lsquo; netstat.txt
    #再加上格式化输出：
         shell&gt;awk &lsquo;$3==0 &amp;&amp; $6==&ldquo;LISTEN&rdquo; || NR==1 {printf &ldquo;%-20s %-20s %s\n&rdquo;,$4,$5,$6}&rsquo; netstat.txt
5.内建变量
    $0  当前记录（这个变量中存放着整个行的内容）
    $1~$n   当前记录的第n个字段，字段间由FS分隔
    FS  输入字段分隔符 默认是空格或Tab
    NF  当前记录中的字段个数，就是有多少列
    NR  已经读出的记录数，就是行号，从1开始，如果有多个文件话，这个值也是不断累加中。
    FNR 当前记录数，与NR不同的是，这个值会是各个文件自己的行号
    RS  输入的记录分隔符， 默认为换行符
    OFS 输出字段分隔符， 默认也是空格
    ORS 输出的记录分隔符，默认为换行符
    FILENAME    当前输入文件的名字
e.g.
#如果要输出行号
    shell&gt;awk &lsquo;$3==0 &amp;&amp; $6==&ldquo;ESTABLISHED&rdquo; || NR==1 {printf &ldquo;%02s %s %-20s %-20s %s\n&rdquo;,NR, FNR, $4,$5,$6}&rsquo; netstat.txt
6.指定分割符
    shell&gt;awk  &lsquo;BEGIN{FS=&rdquo;:&ldquo;} {print $1,$3,$6}&rsquo; /etc/passwd
    shell&gt;awk  -F: &lsquo;{print $1,$3,$6}&rsquo; /etc/passwd   #-F的意思就是指定分隔符,指定多个分隔符 -F &lsquo;[;:]&rsquo;
    shell&gt;awk  -F: &lsquo;{print $1,$3,$6}&rsquo; OFS=&rdquo;\t&rdquo; /etc/passwd  #以\t作为分隔符输出
7.字符串匹配
    1) ~ 表示模式开始。/ /中是模式。这就是一个正则表达式的匹配。
        shell&gt;awk &lsquo;$6 ~ /FIN/ || NR==1 {print NR,$4,$5,$6}&rsquo; OFS=&rdquo;\t&rdquo; netstat.txt
        shell&gt;awk &lsquo;$6 ~ /WAIT/ || NR==1 {print NR,$4,$5,$6}&rsquo; OFS=&rdquo;\t&rdquo; netstat.txt
        shell&gt;awk &lsquo;/LISTEN/&rsquo; netstat.txt
    2)使用 “/FIN|TIME/” 来匹配 FIN 或者 TIME
        shell&gt;awk &lsquo;$6 ~ /FIN|TIME/ || NR==1 {print NR,$4,$5,$6}&rsquo; OFS=&rdquo;\t&rdquo; netstat.txt
    3)模式取反 ! ~ //
        shell&gt;awk &lsquo;$6 !~ /WAIT/ || NR==1 {print NR,$4,$5,$6}&rsquo; OFS=&rdquo;\t&rdquo; netstat.txt
        shell&gt;awk &lsquo;!/WAIT/&rsquo; netstat.txt
8.拆分文件
    shell&gt;  awk &lsquo;NR!=1{if($6 ~ /TIME|ESTABLISHED/) print &gt; &ldquo;1.txt&rdquo;;
            else if($6 ~ /LISTEN/) print &gt; &ldquo;2.txt&rdquo;;
            else print &gt; &ldquo;3.txt&rdquo; }&rsquo; netstat.txt
    ps:R!=1表示不处理表头
9.统计
    统计各个connection状态
        shell&gt;awk &lsquo;NR!=1{a[$6]++;} END {for (i in a) print i &ldquo;, &rdquo; a[i];}&rsquo; netstat.txt
    每个用户的进程的占了多少内存
        shell&gt;ps aux | awk &lsquo;NR!=1{a[$1]+=$6;} END { for(i in a) print i &ldquo;, &rdquo; a[i]&ldquo;KB&rdquo;;}&rsquo;
10.awk脚本
    1)  BEGIN{ 这里面放的是执行前的语句 }
        END {这里面放的是处理完所有的行后要执行的语句 }
        {这里面放的是处理每一行时要执行的语句}
e.g.
#从file文件中找出长度大于80的行
    shell&gt;awk &lsquo;length&gt;80&rsquo; file
#按连接数查看客户端IP
    shell&gt;netstat -ntu | awk &lsquo;{print $5}&rsquo; | cut -d: -f1 | sort | uniq -c | sort -nr
#打印99乘法表
    shell&gt;seq 9 | sed &lsquo;H;g&rsquo; | awk -v RS=&rdquo; &lsquo;{for(i=1;i&lt;=NF;i++)printf(&ldquo;%dx%d=%d%s&rdquo;, i, NR, i*NR, i==NR?&rdquo;\n&rdquo;:&rdquo;\t&rdquo;)}&rsquo;</p>
</blockquote>

            <p class="post-info">
                本文由
                
                    <a href="http://hackfox.vip/about">
                Hackfox 
                
                </a> 创作，采用
                <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="external nofollow">知识共享署名4.0</a>                
                国际许可协议进行许可，转载请注明出处！<br>
            </p>
        </div>
    </article>

    <div id="post-bottom-bar" class="post-bottom-bar">
        <div class="bottom-bar-inner">
            <div class="bottom-bar-items social-share left">
                <span class="bottom-bar-item">Share : </span>
                <span class="bottom-bar-item bottom-bar-facebook"><a href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fhackfox.vip%2fpost%2flinux%2flinux%2f" target="_blank" title="" rel="nofollow">Facebook</a></span>
                <span class="bottom-bar-item bottom-bar-twitter"><a href="https://twitter.com/intent/tweet?url=http%3a%2f%2fhackfox.vip%2fpost%2flinux%2flinux%2f&text=" target="_blank" title="" rel="nofollow">Twitter</a></span>
                <span class="bottom-bar-item bottom-bar-weibo"><a href="http://service.weibo.com/share/share.php?url=http%3a%2f%2fhackfox.vip%2fpost%2flinux%2flinux%2f&amp;title=" target="_blank" title="" rel="nofollow">Weibo</a></span>
                <span class="bottom-bar-item bottom-bar-qrcode"><a href="//pan.baidu.com/share/qrcode?w=300&amp;h=300&amp;url=http%3a%2f%2fhackfox.vip%2fpost%2flinux%2flinux%2f" target="_blank" rel="nofollow">QRcode</a></span>
            </div>

            <div class="bottom-bar-items right">
                
                <span class="bottom-bar-item"><a href="http://hackfox.vip/post/linux/centos7%E5%AE%89%E8%A3%85mysql/" title="">←</a></span> 
                
                <span class="bottom-bar-item"><a href="http://hackfox.vip/post/php/laravel/php_web/" title="">→</a></span> 
                <span class="bottom-bar-item"></span> <span class="bottom-bar-item"><a href="#footer">↓</a></span>
                <span class="bottom-bar-item"><a href="#">↑</a></span>
            </div>
            
        </div>
    </div>

    

 <footer id="footer" class="footer bg-white">
    <div class="footer-social">
        <div class="footer-container clearfix">
            <div class="social-list">
                
                
                <a class="social" target="blank" href="mailto:codehackfox@gmail.com">Email</a>  
                
                <a class="social" target="blank" href="https://github.com/xsoer">Github</a>  
                
                <a class="social" target="blank" href="http://hackfox.vip/index.xml">RSS</a>  
            </div>
        </div>
    </div>
    <div class="footer-meta">
        <div class="footer-container">
            <div class="meta-item meta-copyright">
                <div class="meta-copyright-info">
                    <br>
                    <div class="info-text">
                        <p id="chakhsu"> </p>
                        <p>Powered by <a href="https://gohugo.io/" target="_blank" rel="nofollow">Hugo</a>.
                            <a href="https://golang.org/" target="_blank" rel="nofollow">#golang</a>.
                        </p>
                        <p> &copy; 2019 <a href="http://hackfox.vip">Hackfox</a></p>
                    </div>
                </div>
            </div>

            <div class="meta-item meta-comments">
                <h3 class="meta-title">CATEGORIES</h3>
                <li><a href="http://hackfox.vip/categories/development">Development</a>(21)</li>
                <li><a href="http://hackfox.vip/categories/linux">Linux</a>(2)</li>
                <li><a href="http://hackfox.vip/categories/mysql">Mysql</a>(2)</li>
                <li><a href="http://hackfox.vip/categories/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93">数据仓库</a>(1)</li>
                <li><a href="http://hackfox.vip/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA">计算机</a>(2)</li>
            </div>
            <div class="meta-item meta-posts">
                <h3 class="meta-title">RECENT POSTS</h3>
                   
                <li><a href="http://hackfox.vip/post/180827-%E6%95%B0%E6%8D%AE%E5%BB%BA%E6%A8%A1/">数据仓库模型</a></li>
                  
                <li><a href="http://hackfox.vip/post/180228-laravel%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/">Laravel的异常处理</a></li>
                  
                <li><a href="http://hackfox.vip/post/180226-laravel%E7%9A%84%E6%8B%BC%E6%8E%A5sql%E9%97%AE%E9%A2%98/">Laravel的拼接sql问题</a></li>
                  
                <li><a href="http://hackfox.vip/post/180224-atom%E5%8E%9F%E7%90%86/">Atom原理</a></li>
                  
                <li><a href="http://hackfox.vip/post/180224-vue%E9%A1%B9%E7%9B%AE%E5%8D%87%E7%BA%A7%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/">Vue项目升级打包工具</a></li>
                  
                <li><a href="http://hackfox.vip/post/180112-csrf-token%E5%8E%9F%E7%90%86/">CSRF TOKEN原理</a></li>
                 

            </div>
        </div>
    </div>
    </div>
</footer>




<script src="//cdn.bootcss.com/headroom/0.9.1/headroom.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.10.0/highlight.min.js"></script>
<script src="//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js"></script>
<script>



     var postSharer = new Headroom(document.getElementById("post-bottom-bar"), {
        tolerance: 0,
        offset: 70,
        classes: {
            initial: "animated",
            pinned: "pinned",
            unpinned: "unpinned"
        }
    });
    postSharer.init();




    var header = new Headroom(document.getElementById("header"), {
        tolerance: 0,
        offset: 70,
        classes: {
            initial: "animated",
            pinned: "slideDown",
            unpinned: "slideUp"
        }
    });
    header.init();
    var chakhsu = function (r) {
        function t() {
            return b[Math.floor(Math.random() * b.length)]
        }

        function e() {
            return String.fromCharCode(94 * Math.random() + 33)
        }

        function n(r) {
            for (var n = document.createDocumentFragment(), i = 0; r > i; i++) {
                var l = document.createElement("span");
                l.textContent = e(), l.style.color = t(), n.appendChild(l)
            }
            return n
        }

        function i() {
            var t = o[c.skillI];
            c.step ? c.step-- : (c.step = g, c.prefixP < l.length ? (c.prefixP >= 0 && (c.text += l[c.prefixP]), c.prefixP++) : "forward" === c.direction ? c.skillP < t.length ? (c.text += t[c.skillP], c.skillP++) : c.delay ? c.delay-- : (c.direction = "backward", c.delay = a) : c.skillP > 0 ? (c.text = c.text.slice(0, -1), c.skillP--) : (c.skillI = (c.skillI + 1) % o.length, c.direction = "forward")), r.textContent = c.text, r.appendChild(n(c.prefixP < l.length ? Math.min(s, s + c.prefixP) : Math.min(s, t.length - c.skillP))), setTimeout(i, d)
        }
        var l = "",
            o = ["I am a Developer","I am happy"].map(function (r) {
                return r + "."
            }),
            a = 2,
            g = 1,
            s = 5,
            d = 75,
            b = ["rgb(110,64,170)", "rgb(150,61,179)", "rgb(191,60,175)", "rgb(228,65,157)", "rgb(254,75,131)", "rgb(255,94,99)", "rgb(255,120,71)", "rgb(251,150,51)", "rgb(226,183,47)", "rgb(198,214,60)", "rgb(175,240,91)", "rgb(127,246,88)", "rgb(82,246,103)", "rgb(48,239,130)", "rgb(29,223,163)", "rgb(26,199,194)", "rgb(35,171,216)", "rgb(54,140,225)", "rgb(76,110,219)", "rgb(96,84,200)"],
            c = {
                text: "",
                prefixP: -s,
                skillI: 0,
                skillP: 0,
                direction: "forward",
                delay: a,
                step: g
            };
        i()
    };
    chakhsu(document.getElementById('chakhsu'));
    if ('addEventListener' in document) {
        document.addEventListener('DOMContentLoaded', function () {
            FastClick.attach(document.body);
        }, false);
    }

</script>
<script type="text/x-mathjax-config"> MathJax.Hub.Config({ showProcessingMessages: false, messageStyle: "none", extensions: ["tex2jax.js"], jax: ["input/TeX",
    "output/HTML-CSS"], tex2jax: { inlineMath: [ ['$','$'], ["\\(","\\)"] ], displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre','code','a'], ignoreClass:"comment-content" }, "HTML-CSS":
    { availableFonts: ["STIX","TeX"], showMathMenu: false } }); MathJax.Hub.Queue(["Typeset",MathJax.Hub]); </script>
<script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>



<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-114671402-1', 'auto');
	
	ga('send', 'pageview');
}
</script>


</body>

</html>
