<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"xsoer.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":true,"lazyload":true,"pangu":true,"comments":{"style":"buttons","active":"gitalk","storage":true,"lazyload":false,"nav":null,"activeClass":"gitalk"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="0x00、数据库基本概念1.数据模型：描述数据、数据关系、数据语义及一致性约束的概念工具集  网络模型 层次模型 关系模型  2.关系模型：用表来描述数据与数据间的关系3.数据完整性和数据保护4.mysql 1.0诞生于1995年5.mysql以守护进程运行">
<meta name="keywords" content="mysql">
<meta property="og:type" content="article">
<meta property="og:title" content="mysql技术">
<meta property="og:url" content="https://xsoer.github.io/2015/10/12/2015/10-12-mysql技术/index.html">
<meta property="og:site_name" content="hackfox">
<meta property="og:description" content="0x00、数据库基本概念1.数据模型：描述数据、数据关系、数据语义及一致性约束的概念工具集  网络模型 层次模型 关系模型  2.关系模型：用表来描述数据与数据间的关系3.数据完整性和数据保护4.mysql 1.0诞生于1995年5.mysql以守护进程运行">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2020-06-10T05:53:19.562Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="mysql技术">
<meta name="twitter:description" content="0x00、数据库基本概念1.数据模型：描述数据、数据关系、数据语义及一致性约束的概念工具集  网络模型 层次模型 关系模型  2.关系模型：用表来描述数据与数据间的关系3.数据完整性和数据保护4.mysql 1.0诞生于1995年5.mysql以守护进程运行">

<link rel="canonical" href="https://xsoer.github.io/2015/10/12/2015/10-12-mysql技术/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>mysql技术 | hackfox</title>
  
    <script>
      function sendPageView() {
        if (CONFIG.hostname !== location.hostname) return;
        var uid = localStorage.getItem('uid') || (Math.random() + '.' + Math.random());
        localStorage.setItem('uid', uid);
        navigator.sendBeacon('https://www.google-analytics.com/collect', new URLSearchParams({
          v  : 1,
          tid: 'UA-114671402-1',
          cid: uid,
          t  : 'pageview',
          dp : encodeURIComponent(location.pathname)
        }));
      }
      document.addEventListener('pjax:complete', sendPageView);
      sendPageView();
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="stylesheet" href="/css/prism-duotone-dark.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">hackfox</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">专注 慎思 博学</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-manual">

    <a href="/manual/" rel="section"><i class="fa fa-server fa-fw"></i>手册</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-tools">

    <a href="/tools/" rel="section"><i class="fa fa-gavel fa-fw"></i>工具</a>

  </li>
        <li class="menu-item menu-item-books">

    <a href="/books/" rel="section"><i class="fa fa-book fa-fw"></i>书籍</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xsoer.github.io/2015/10/12/2015/10-12-mysql技术/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hackfox">
      <meta itemprop="description" content="架构、AI、python、rust">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hackfox">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          mysql技术
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2015-10-12 12:23:00" itemprop="dateCreated datePublished" datetime="2015-10-12T12:23:00+08:00">2015-10-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-06-10 13:53:19" itemprop="dateModified" datetime="2020-06-10T13:53:19+08:00">2020-06-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/mysql/" itemprop="url" rel="index"><span itemprop="name">mysql</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="0x00、数据库基本概念"><a href="#0x00、数据库基本概念" class="headerlink" title="0x00、数据库基本概念"></a>0x00、数据库基本概念</h2><p>1.数据模型：描述数据、数据关系、数据语义及一致性约束的概念工具集</p>
<ul>
<li>网络模型</li>
<li>层次模型</li>
<li>关系模型</li>
</ul>
<p>2.关系模型：用表来描述数据与数据间的关系<br>3.数据完整性和数据保护<br>4.mysql 1.0诞生于1995年<br>5.mysql以守护进程运行</p>
<a id="more"></a>
<h2 id="0x01、结构体系"><a href="#0x01、结构体系" class="headerlink" title="0x01、结构体系"></a>0x01、结构体系</h2><p>1.连接器<br>进行身份验证、线程重用,连接限制,检查内存,数据缓存；管理用户的连接，线程处理等需要缓存的需求。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show variables like <span class="string">"%connection%"</span>;</span><br></pre></td></tr></table></figure>

<p>2.连接池组件</p>
<p>3.缓存<br>全局和引擎特定的缓存和缓冲区</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show variables like <span class="string">'%query_cache%'</span>;</span><br></pre></td></tr></table></figure>

<p>4.权限</p>
<p>5.表管理器</p>
<p>6.日志管理</p>
<p>7.sql接口组件<br>进行DML、DDL,存储过程、视图、触发器等操作和管理；用户通过SQL命令来查询所需结果。</p>
<p>8.插件式存储引擎</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show engines;</span><br></pre></td></tr></table></figure>

<p>9.解析器<br>查询翻译对象的特权；SQL命令传递到解析器的时候会被解析器验证和解析</p>
<p>10.优化器<br>访问路径的统计数据</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select @@optimizer_switch;</span><br></pre></td></tr></table></figure>

<p>11.管理服务与工具组件<br>备份和恢复的安全性，复制，集群，管理，配置，迁移和元数据</p>
<p>12.物理文件</p>
<ul>
<li><p>1.日志文件</p>
<ul>
<li>错误日志：errorlog</li>
<li>二进制日志：binlog</li>
<li>更新日志：update log</li>
<li>查询日志：query log</li>
<li>慢查询日志：slow query log</li>
<li>innodb在线redo日志：innodb redo log</li>
</ul>
</li>
<li><p>2.数据文件</p>
<ul>
<li>frm:任何存储引擎都有一个，存储表结构定义信息</li>
<li>MYD:MYISAM存储引擎专用，存储数据</li>
<li>MYI:MYISAM存储引擎专用，存储索引信息</li>
<li>idb和idbdata:innodb存储引擎存储数据，.idb存储独享表空间数据，idbdata存储共享表空间数据</li>
</ul>
</li>
<li><p>3.replication相关文件：</p>
<ul>
<li>master.info文件：存在于slave端的数据目录下，存放master端的ip，用户，连接密码和接口等数据</li>
<li>relay log和relay log index</li>
<li>relay-log.info文件</li>
</ul>
</li>
<li><p>4.其他文件</p>
<ul>
<li>system config file:my.cnf</li>
<li>pid file:存放mysql进程</li>
<li>socket file:unix\linux环境下才有，可以不用tcp协议连接而用unix的socket来连接mysql</li>
</ul>
</li>
</ul>
<h2 id="0x02、系统架构"><a href="#0x02、系统架构" class="headerlink" title="0x02、系统架构"></a>0x02、系统架构</h2><h3 id="1-逻辑模块"><a href="#1-逻辑模块" class="headerlink" title="1.逻辑模块"></a>1.逻辑模块</h3><p>1.SQL Layer:权限判断、sql解析、执行计划优化、query cache的处理</p>
<ul>
<li>初始化模块：在mysql server启动时，对整个系统做各种各样的优化，如：各种buffer、cache结构的初始化和内存空间申请，各种系统变量初始化，各种存储引擎初始化等</li>
<li>核心API:提供一些需要非常高效的底层操作功能的优化实现,包括各种底层数据结构的实现，特殊算法的实现，字符串处理，数字处理等，小文件I/O，格式化输出，以及最重要的内存管理部分</li>
<li>网络交换模块：抽象出底层网络交互所使用的接口api， 实现底层网络数据的接收与发送，以方便其他各个模块调用，以及对这一部分的维护。</li>
<li>Client&amp;Server 交换协议模块：任何C/S结构的软件系统， 都肯定会有自己独有的信息交互协议，MySQL也不例外。MySQL的Client &amp; Server 交互协议模块部分，实现了客户端与MySQL交互过程中的所有协议。当然这些协议都是建立在现有的OS和网络协议之上的，如TCP/IP以及Unix Socket</li>
<li>用户模块：主要包括用户的登录连接权限控制和用户的授权管理</li>
<li>访问控制模块：根据用户模块中各用户的授权信息， 以及数据库自身特有的各种约束， 来控制用户对数据的访问。 用户模块和访问控制模块两者结合起来， 组成了MySQL整个数据库系统的权限安全管理的功能</li>
<li>连接管理、连接线程和线程管理：负责监听对MySQL Server的各种请求，接收连接请求，转发所有连接请求到线程管理模块。每一个连接上MySQL Server的客户端请求都会被分配（或创建）一个连接线程为其单独服务。而连接线程的主要工作就是负责 MySQL Server与客户端的通信，接受客户端的命令请求，传递Server端的结果信息等。线程管理模块则负责管理维护这些连接线程。包括线程的创建，线程的cache等</li>
<li>Query解析和转发模块：MySQL中我们习惯将所有Client端发送给Server端的命令都称为query， 在 MySQL Server里面，连接线程接收到客户端的一个 Query后，会直接将该 query传递给专门负责将各种Query进行分类然后转发给各个对应的处理模块， 这个模块就是query解析和转发模块。 其主要工作就是将query语句进行语义和语法的分析， 然后按照不同的操作类型进行分类，然后做出针对性的转发。</li>
<li>Query Cache模块：主要功能是将客户端提交给MySQL的Select类query请求的返回结果集cache到内存中， 与该query的一个hash值做一个对应。该Query所取数据的基表发生任何数据的变化之后， MySQL会自动使该query的Cache 失效。在读写比例非常高的应用系统中， Query Cache对性能的提高是非常显著的。当然它对内存的消耗也是非常大的。</li>
<li>Query优化器模块：根据客户端请求的query语句，和数据库中的一些统计信息，在一系列算法的基础上进行分析，得出一个最优的策略，告诉后面的程序如何取得这个query语句的结果。</li>
<li>表变更管理模块：主要是负责完成一些DML和 DDL的query，如： update， delte， insert，create table， alter table等语句的处理</li>
<li>表维护模块：表的状态检查，错误修复，以及优化和分析等工作都是表维护模块需要做的事情。</li>
<li>系统状态管理模块：负责在客户端请求系统状态的时候， 将各种状态数据返回给用户， 像DBA常用的各种show status命令， show variables命令等， 所得到的结果都是由这个模块返回的</li>
<li>表管理器：表管理器的工作主要就是维护.frm等文件，以及一个cache，该cache中的主要内容是各个表的结构信息。此外它还维护table级别的锁管理。</li>
<li>日志记录模块：日志记录模块主要负责整个系统级别的逻辑层的日志的记录，包括error log， binary log， slow query log等</li>
<li>复制模块：可分为 Master 模块和 Slave 模块两部分， Master 模块主要负责在Replication环境中读取Master端的binary日志， 以及与 Slave端的I/O线程交互等工作。Slave模块比Master模块所要做的事情稍多一些，在系统中主要体现在两个线程上面。一个是负责从Master请求和接受binary日志， 并写入本地relay log中的I/O线程。 另外一个是负责从relay log中读取相关日志事件， 然后解析成可以在Slave端正确执行并得到和Master端完全相同的结果的命令并再交给Slave执行的SQL线程。</li>
<li>存储引擎接口模块：</li>
</ul>
<p>2.Storage Engine Layer</p>
<ul>
<li><p>MYISAM</p>
<ul>
<li>支持三种索引：B-tree索引、R-tree索引、Full-text索引</li>
<li>数据存放格式：静态固定长度(FIXED)、动态可变长度(DYNAMIC)、压缩格式(COMPRESSED)三种格式，同过创建表时指定ROW_FORMAT指定</li>
<li>不支持事务，表级锁</li>
</ul>
</li>
<li><p>innodb</p>
<ul>
<li>支持事务安装：四个级别READ UNCOMMITTED， READ COMMITTED， REPEATABLE READ和SERIALIZABLE。</li>
<li>数据多版本读取：</li>
<li>锁定机制的改进：实现了行级锁</li>
<li>支持外键</li>
<li>存在表空间概念：<ul>
<li>共享表空间：必须存在，innodb的undo信息和其他一些元数据信息都是存放在共享表空间里面的。 共享表空间的数据文件是可以设置为固定大小和可自动扩展大小两种形式</li>
<li>独享表空间</li>
</ul>
</li>
</ul>
</li>
<li><p>NDB Cluster</p>
<ul>
<li>负责管理各个节点的Manage节点主机</li>
<li>SQL 层的SQL服务器节点</li>
<li>Storage层的NDB数据节点，也就是上面说的NDB Cluster</li>
</ul>
</li>
</ul>
<h2 id="0x03、安全"><a href="#0x03、安全" class="headerlink" title="0x03、安全"></a>0x03、安全</h2><h3 id="1-网络"><a href="#1-网络" class="headerlink" title="1.网络"></a>1.网络</h3><h3 id="2-主机"><a href="#2-主机" class="headerlink" title="2.主机"></a>2.主机</h3><h3 id="3-数据库"><a href="#3-数据库" class="headerlink" title="3.数据库"></a>3.数据库</h3><h3 id="4-代码"><a href="#4-代码" class="headerlink" title="4.代码"></a>4.代码</h3><h3 id="5-权限"><a href="#5-权限" class="headerlink" title="5.权限"></a>5.权限</h3><ul>
<li>1.有关权限信息主要存储在几个被称为 grant tables 的系统表中，即： mysql.User， mysql.db， mysql.Host， mysql.table_priv和mysql.column_priv</li>
<li>2.由于权限信息数据量比较小，而且访问又非常频繁，所以Mysql在启动的时候，就会将所有的权限信息都Load到内存中保存在几个特定的结构中。</li>
<li>3.议读者一般情况下尽量使用GRANT， REVOKE， CREATE USER以及DROP USER命令来进行用户和权限的变更操作， 尽量减少直接修改grant tables来实现用户和权限变更的操作</li>
<li>4.查询权限：SHOW GRANTS FOR ‘username’@’hostname’</li>
<li>5.权限级别：分为五个级别<ul>
<li><strong><code>Global Level:</code></strong> 称为全局权限控制， 所有权限信息都保存在mysql.user表中。 Global Level的所有权限都是针对整个mysqld的，对所有的数据库下的所有表及所有字段都有效。如果一个权限是以Global Level来授予的，则会覆盖其他所有级别的相同权限设置。只需要在执行GRANT命令的时候，用“ <em>.</em>”来指定适用范围是Global的即可，当有多个权限需要授予的时候，也并不需要多次重复执行GRANT命令，只需要一次将所有需要的权限名称通过逗号（ “ ,”）分隔开即可，</li>
<li><strong><code>Database Level:</code></strong> Database Level是在Global Level之下，其他三个Level之上的权限级别，其作用域即为所指定整个数据库中的所有对象。与Global Level的权限相比， Database Level主要少了以下几个权限：CREATE USER，FILE，PROCESS，RELOAD，REPLICATION CLIENT，REPLICATION SLAVE， SHOW DATABASES， SHUTDOWN， SUPER和USAGE这几个权限，没有增加任何权限。<ul>
<li>1.执行GRANT命令的时候，通过“ database.*”来限定权限作用域为database整个数据库</li>
<li>2.先通过USE命令选定需要授权的数据库，然后通过“ *”来限定作用域，这样授权的作用域实际上就是当前选定的整个数据库</li>
</ul>
</li>
<li><strong><code>Table Level:</code></strong> Database Level之下就是 Table Level的权限了， Table Level的权限可以被 GlobalLevel和Database Level的权限所覆盖， 同时也能覆盖Column Level和Routine Level的权限.权限作用范围是授权语句中所指定数据库的指定表。仅有ALTER， CREATE， DELETE， DROP， INDEX， INSERT， SELECT UPDATE这八种权限</li>
<li><strong><code>Column Level:</code></strong> 权限作用范围就更小了，仅仅是某个表的指定的某个（活某些）列。<ul>
<li>由于权限的覆盖原则， Column Level的权限同样可以被 Global， Database， Table这三个级别的权限中的相同级别所覆盖</li>
<li>而且由于 Column Level所针对的权限和 Routine Level的权限作用域没有重合部分，所以不会有覆盖与被覆盖的关系。</li>
<li>针对Column Level级别的权限仅有INSERT， SELECT和UPDATE这三种。</li>
<li>Column Level的权限授权语句语法基本和Table Level差不多，只是需要在权限名称后面将需要授权的列名列表通过括号括起来</li>
<li>某个用户在向某个表插入（ INSERT）数据的时候，如果该用户在该表中某列上面没有INSERT权限，则该列的数据将以默认值填充。这一点和很多其他的数据库都有一些区别，是MySQL自己在SQL上面所做的扩展</li>
</ul>
</li>
<li><strong><code>Routine Level:</code></strong> 权限主要只有 EXECUTE和 ALTER ROUTINE两种<ul>
<li>主要针对的对象是procedure和function这两种对象</li>
<li>在授予 Routine Level权限的时候，需要指定数据库和相关对象</li>
</ul>
</li>
<li><strong><code>GRANT权限:</code></strong> 拥有GRANT权限的用户可以将自身所拥有的任何权限全部授予其他任何用户是一个非常特殊也非常重要的权限。<ul>
<li>GRANT权限的授予方式也和其他任何权限都不太一样，通常都是通过在执行GRANT授权语句的时候在最后添加WITH GRANT OPTION子句达到授予GRANT权限的目的</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>以上五个Level的权限中， Table、 Column和Routine三者在授权中所依赖（或者引用）的对象必须是已经存在的，而不像Database Level的权限授予，可以在当前不存在该数据库的时候就完成授权</p>
<h3 id="6-访问控制原理"><a href="#6-访问控制原理" class="headerlink" title="6.访问控制原理"></a>6.访问控制原理</h3><ul>
<li><p>1.两个模块：用户管理模块和访问控制模块</p>
</li>
<li><p>2.用户管理模块：</p>
<ul>
<li>主要是有user表</li>
<li>如果指定用户访问，需有-h选项指定连接ip，mysql默认用localhost指定连接</li>
<li>权限更新：FLUSH PRIVILEGES会强行让MySQL更新Load到内存中的权限信息；<ul>
<li>GRANT、 REVOKE或者CREATE USER和DROP USER操作会直接更新内存中俄权限信息；</li>
<li>重启MySQL会让MySQL完全从grant tables中读取权限信息</li>
<li>于Global Level的权限信息的修改，仅仅只有更改之后新建连接才会用到，对于已经连接上的session并不会受到影响。</li>
<li>而对于Database Level的权限信息的修改，只有当客户端请求执行了“ USE database_name” 命令之后，才会在重新校验中使用到新的权限信息。</li>
<li>所以有些时候如果在做了比较紧急的Global和Database这两个Level的权限变更之后，可能需要通过“ KILL” 命令将已经连接在MySQL中的session 杀掉强迫他们重新连接以使用更新后的权限。</li>
<li>对于Table Level和Column Level的权限，则会在下一次需要使用到该权限的Query被请求的时候生效，也就是说，对于应用来讲，这两个Level的权限，更新之后立刻就生效了，而不会需要执行“ KILL” 命令</li>
</ul>
</li>
</ul>
</li>
<li><p>3.访问控制模块：</p>
<ul>
<li>MySQL 接收到客户端的请求之后， 访问控制模块是需要校验该用户是否满足提交的请求所需要的权限。 权限校验过程是从最大范围的权限往最小范围的权限开始依次校验所涉及到的每个对象的每个权限</li>
<li>MySQL首先会查找存储在内存结构中的权限数据，首先查找 Global Level 权限，如果所需权限在 Global Level 都有定义（ GRANT或者 REVOKE），则完成权限校验（通过或者拒绝） ，如果没有找到所有权限的定义，则会继续往后查找Database Level 权限，进行 Global Level 未定义的所需权限的校验，如果仍然没有能够找到所有所需权限的定义， MySQL 会继续往更小范围的权限定义域查找，也就是 Table Level，最后则是 Column Level 或者 Routine Level</li>
<li>MySQL的权限是授予“ username@hostname” 的，也就是说，至少需要用户名和主机名二者才能确定一个访问者的权限。又由于hostname可以是一个含有通配符的域名，也可以是一个含有通配符的IP地址段。那么如果同一个用户有两条权限信息，一条是针对特定域名的， 另外一个是含有通配符的域名， 而且前者属于后者包含。 这时候MySQL如何来确定权限信息呢？实际上MySQL永远优先考虑更精确范围的权限。 在MySQL内部会按照username和hostname作一个排序， 对于相同username的权限， 其host信息越接近访问者的来源host， 则排序位置越靠前， 则越早被校验使用到。 而且， MySQL在权限校验过程中，只要找到匹配的权限之后， 就不会再继续往后查找是否还有匹配的权限信息， 而直接完成校验过程</li>
</ul>
</li>
</ul>
<h3 id="7-访问授权策略"><a href="#7-访问授权策略" class="headerlink" title="7.访问授权策略"></a>7.访问授权策略</h3><p>1.了解来访主机：<br>2.了解用户需求：<br>3.要用工作分类<br>4.确保只有绝对必要者拥有Grant Option权限</p>
<h3 id="8-安全设置注意项"><a href="#8-安全设置注意项" class="headerlink" title="8.安全设置注意项"></a>8.安全设置注意项</h3><p>1.确认mysql是否需要联网，通过使用“ –skip-networking” 参数选项，让MySQL不通过TCP/IP监听网络请求，而仅仅通过命名管道或共享内存(在Windows中)或Unix套接字文件(在Unix中)来和客户端连接交互<br>2.通过使用“ –skip-networking” 参数选项，让MySQL不通过TCP/IP监听网络请求，而仅仅通过命名管道或共享内存(在Windows中)或Unix套接字文件(在Unix中)来和客户端连接交互<br>3.使用SSL加密通道。<br>4.访问授权限定来访主机信息。<br>5.OS安全方面：关闭MySQL Server主机上面任何不需要的服务，这不仅能从安全方面减少潜在隐患，还能减轻主机的部分负担，尽可能提高性能。<br>6.用非root用户运行MySQL<br>7.文件和进程安全。MySQL相关的数据和日志文件和所在的文件夹属主和所属组都设置为mysql，且禁用其他所有用户（除了拥有超级权限的用户，如root）的读写权限。以防止数据或者日志文件被窃取或破坏。<br>8.确保MySQL Server所在的主机上所必要运行的其他应用或者服务足够安全，避免因为其他应用或者服务存在安全漏洞而被入侵者攻破防线<br>9.用户设置：密码复杂<br>10.安全参数：不需要使用的功能模块尽量都不要启用，如果不需要使用用户自定义函数，就不要在启动的时候使用“ –allow-suspicious-udfs” 参数选项，以防止被别有居心的潜在威胁者利用此功能而对MySQL的安全造成威胁；</p>
<ul>
<li>不需要从本地文件中Load数据到数据库中，就使用“ –local-infile=0” 禁用掉可以从客户端机器上Load文件到数据库中；</li>
<li>使用新的密码规则和校验规则（不要使用“ –old-passwords”启动数据库） ，这项功能是为了兼容旧版本的密码校验方式的，如无额数必要，不要使用该功能，旧版本的密码加密方式要比新的方式在安全方面弱很多</li>
</ul>
<h2 id="0x04、存储管理器"><a href="#0x04、存储管理器" class="headerlink" title="0x04、存储管理器"></a>0x04、存储管理器</h2><p>1.权限及完整性管理器<br>2.事务管理器</p>
<ul>
<li>原子性</li>
<li>一致性</li>
<li>持久性</li>
<li></li>
</ul>
<p>3.文件管理器<br>4.缓冲管理器<br>5.数据文件<br>6.数据字典<br>7.索引</p>
<h2 id="0x05、查询处理器"><a href="#0x05、查询处理器" class="headerlink" title="0x05、查询处理器"></a>0x05、查询处理器</h2><p>1.DDL解释器<br>2.DML编译器<br>3.查询计算引擎<br>4.预处理</p>
<h2 id="0x06、关系型数据库"><a href="#0x06、关系型数据库" class="headerlink" title="0x06、关系型数据库"></a>0x06、关系型数据库</h2><p>1.数据库<br>2.表、元组、类型、主键、外键、码、关系、属性<br>3.范式<br>4.数据抽象：物理层、逻辑层、视图层<br>5.关系运算：选择、投影、并、差、笛卡儿积、交、自然连接、除<br>6.外连接：左外连接、右外连接</p>
<h2 id="0x07、关键字-SQL"><a href="#0x07、关键字-SQL" class="headerlink" title="0x07、关键字(SQL)"></a>0x07、关键字(SQL)</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span>,<span class="keyword">delete</span>,<span class="keyword">drop</span>,<span class="keyword">select</span>,<span class="keyword">insert</span>,<span class="keyword">update</span>,<span class="keyword">set</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">database</span>,<span class="keyword">table</span>,<span class="keyword">index</span>,<span class="keyword">function</span>,process,<span class="keyword">trigger</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">show</span>,<span class="keyword">status</span>,<span class="keyword">processlist</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">where</span>,<span class="keyword">distinct</span>,<span class="keyword">as</span>,<span class="keyword">with</span>,<span class="keyword">or</span>,<span class="keyword">and</span>,<span class="keyword">like</span>,<span class="keyword">not</span> <span class="keyword">like</span>,<span class="keyword">between</span> <span class="keyword">and</span>,<span class="keyword">order</span> <span class="keyword">by</span>(DESE,ASE),<span class="keyword">group</span> <span class="keyword">by</span>,<span class="keyword">having</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">union</span>,<span class="keyword">union</span> <span class="keyword">all</span>,<span class="keyword">except</span>,<span class="keyword">except</span> <span class="keyword">all</span>,<span class="keyword">unique</span>,<span class="keyword">check</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">in</span>,<span class="keyword">not</span> <span class="keyword">in</span></span><br><span class="line"></span><br><span class="line">primary <span class="keyword">key</span>,<span class="keyword">foreign</span> <span class="keyword">key</span>,<span class="keyword">not</span> <span class="literal">null</span>,<span class="keyword">default</span>,<span class="keyword">auto</span> <span class="keyword">increment</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">grant</span>,<span class="keyword">revoke</span></span><br></pre></td></tr></table></figure>

<h2 id="0x08、SQL语句"><a href="#0x08、SQL语句" class="headerlink" title="0x08、SQL语句"></a>0x08、SQL语句</h2><p>1.DDL和DML</p>
<ul>
<li>创建操作</li>
<li>权限操作<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> &lt;权限列表&gt; <span class="keyword">on</span> &lt;关系名或视图&gt; <span class="keyword">to</span> &lt;用户或角色&gt;</span><br><span class="line"><span class="keyword">revoke</span> &lt;权限列表&gt; <span class="keyword">on</span> &lt;关系名或试图&gt; <span class="keyword">from</span> &lt;用户或角色&gt;</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> <span class="keyword">privileges</span> <span class="keyword">on</span> *.* <span class="keyword">to</span> <span class="string">'root'</span>@<span class="string">'%'</span> identify <span class="keyword">by</span> <span class="string">"password"</span>;<span class="keyword">flush</span> <span class="keyword">privileges</span>;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>2.DDL：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">database</span>\<span class="keyword">table</span>\<span class="keyword">index</span>\<span class="keyword">function</span>\<span class="keyword">view</span>\processor\<span class="keyword">trigger</span>\<span class="keyword">user</span></span><br><span class="line"><span class="keyword">alter</span></span><br><span class="line"><span class="keyword">drop</span></span><br></pre></td></tr></table></figure>

<p>3.DML</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line"><span class="keyword">update</span></span><br><span class="line"><span class="keyword">delete</span></span><br><span class="line"><span class="keyword">insert</span></span><br></pre></td></tr></table></figure>

<p>4.between and:是包含两端的值<br>5.is null,is not null:不能用=或!=号<br>6.unknown:也是一种值，在参与运算时<br>7.嵌套子查询</p>
<ul>
<li>in,not in;=some等价于in,但!=some却不等价与not in;any;all</li>
<li>exists;not exists</li>
</ul>
<p>8.创建视图</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> view_name <span class="keyword">as</span> &lt;查询表达式&gt;</span><br></pre></td></tr></table></figure>

<p>9.删除操作</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> r [<span class="keyword">where</span> p]</span><br></pre></td></tr></table></figure>

<p>10.插入操作</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> r[(row_name,...)] <span class="keyword">values</span>()</span><br></pre></td></tr></table></figure>

<p>11.更新操作</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> r <span class="keyword">set</span> q <span class="keyword">where</span> p</span><br></pre></td></tr></table></figure>

<p>12.创建新类型</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">type</span> Dollar <span class="keyword">as</span> numberic(<span class="number">12</span>,<span class="number">2</span>) <span class="keyword">final</span></span><br></pre></td></tr></table></figure>

<p>13.完整性约束</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">not null,<span class="keyword">check</span>,<span class="keyword">unique</span></span><br></pre></td></tr></table></figure>

<p>14.参照完整性</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">foreign key</span><br></pre></td></tr></table></figure>

<p>15.where中用in比用or效率更快<br>16.在已知返回函数时，添加limit<br>17.在sql语句执行时，进行解析、优化、执行、结果几个步骤<br>18.在做更新是，用id来标记更新，否则会全表扫描<br>19.desc table_name  查看表结构</p>
<h2 id="0x09、内置函数-聚集函数-：不能组合使用"><a href="#0x09、内置函数-聚集函数-：不能组合使用" class="headerlink" title="0x09、内置函数(聚集函数)：不能组合使用"></a>0x09、内置函数(聚集函数)：不能组合使用</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">max(),min(),count(),avg(),sum()</span><br><span class="line">now(),curdate(),datetime(),timestamp(),curtime(),year()</span><br><span class="line">concat()</span><br></pre></td></tr></table></figure>

<h2 id="0x10、基本类型"><a href="#0x10、基本类型" class="headerlink" title="0x10、基本类型"></a>0x10、基本类型</h2><p>1.int(-2,147,483,648–2,147,483,647,4字节),samllint(-32,768–32,767,2字节),tinyint(-128–127,1字节),unsigned,bigint(-9223372036854775808–9223372036854775807,8字节)<br>2.char,varchar<br>3.data,time,timestamp<br>4.double,float,numberic<br>5.tiny text,text,medium text,long text<br>6.blob,medium blob,long blob<br>7.enum,set</p>
<h2 id="0x11、匹配"><a href="#0x11、匹配" class="headerlink" title="0x11、匹配"></a>0x11、匹配</h2><ul>
<li>%：匹配任意</li>
<li>_：匹配任意一个字符</li>
</ul>
<h2 id="0x12、存储过程"><a href="#0x12、存储过程" class="headerlink" title="0x12、存储过程"></a>0x12、存储过程</h2><h2 id="0x13、索引"><a href="#0x13、索引" class="headerlink" title="0x13、索引"></a>0x13、索引</h2><p>1.最适合索引的是在where之后的<br>2.使用唯一索引<br>3.使用短索引<br>4.利用最左前缀<br>5.不要过度索引</p>
<h2 id="0x14、数据库设计问题"><a href="#0x14、数据库设计问题" class="headerlink" title="0x14、数据库设计问题"></a>0x14、数据库设计问题</h2><p>1.数据冗余与不一致<br>2.数据访问困难<br>3.数据孤立<br>4.并发访问异常·<br>5.安全性问题<br>    原则：<br>    1.完整性：完整性约束、参照完整性、断言、授权<br>    2.原子性<br>6.实体集、联系集、属性<br>7.区分实体集内实体的方法：主键<br>8.适度冗余—减少join使用（查询频繁，更新较少字段）<br>9.大字段垂直拆分—（summary表优化）：字段大，访问少<br>10.大表水平拆分—基于类型的分拆优化<br>11.优化数据类型<br>    #1.用更小的数据类型，减小存储空间和io资源<br>    #2.选择合适的数据库类型加速比较</p>
<p>12.规范的对象命名</p>
<h2 id="0x15、数据库设计步骤"><a href="#0x15、数据库设计步骤" class="headerlink" title="0x15、数据库设计步骤"></a>0x15、数据库设计步骤</h2><p>1.刻画未来数据库用户的需求：需求规格说明书<br>2.概念设计阶段：实体-联系模型图(确保数据需求都被满足，并且不互相冲突),重点是如何描述数据及其相互关系<br>3.功能需求规则说明书：确保设计模式满足功能需求<br>4.逻辑设计阶段<br>5.物理设计阶段</p>
<h2 id="0x16、mysql存储引擎"><a href="#0x16、mysql存储引擎" class="headerlink" title="0x16、mysql存储引擎"></a>0x16、mysql存储引擎</h2><p>1.Innodb:事务安全<br>2.Myisam：非事务安全</p>
<h2 id="0x17、事务-锁"><a href="#0x17、事务-锁" class="headerlink" title="0x17、事务/锁"></a>0x17、事务/锁</h2><p>1.在同一个事务中，最好不使用不同存储引擎的表<br>2.DDL语句不能回滚<br>3.锁定机制直接影响数据库的并发处理能力和性能</p>
<ul>
<li>1.三种锁：行级锁、页级锁和表级锁</li>
<li>2.行级锁：锁定粒度最小，支持并发量大，消耗资源多，容易发生死锁。有Innodb，，NDB Cluster存储引擎</li>
<li>3.页级锁：处于行级锁和表级锁之间。有BerkeleyDB存储引擎</li>
<li>4.表级锁：最大粒度锁，实现逻辑简单，负面影响小，获取和释放锁速度很快，极少死锁，并发量小。有Myisam，Memory，csv存储引擎<ul>
<li>1)分为读锁定和写锁定，通过四个队列来维护两种锁定：<ul>
<li>Current  read-lock queue</li>
<li>Pending  read-lock queue</li>
<li>Current  write-lock queue</li>
<li>Pending  write-lock queue</li>
</ul>
</li>
<li>2)读锁定：满足下面条件后会立即通过，如果任何一个没有满足，都会被迫进入等待队列<ul>
<li>1.请求锁定的资源当前没有被写锁定</li>
<li>2.写锁定等待队列（ Pending write-lock queue）中没有更高优先级的写锁定等待</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="0x18、备份-复制"><a href="#0x18、备份-复制" class="headerlink" title="0x18、备份/复制"></a>0x18、备份/复制</h2><p>1.逻辑备份</p>
<ul>
<li>1.用mysqldump导出sql文件</li>
<li>2.生成特定分割文件</li>
</ul>
<p>2.物理备份</p>
<ul>
<li>1.备份物理数据文件，日志文件及配置文件等</li>
</ul>
<h2 id="0x19、优化建议"><a href="#0x19、优化建议" class="headerlink" title="0x19、优化建议"></a>0x19、优化建议</h2><p>1.如果opened_tables太大,应该把my.cnf中的table_cache变大<br>2.如果Key_reads太大,则应该把my.cnf中key_buffer_size变大.可以用Key_reads/Key_read_requests计算出cache失败率<br>3.如果Handler_read_rnd太大,则你写的SQL语句里很多查询都是要扫描整个表,而没有发挥索引的键的作用<br>4.如果Threads_created太大,就要增加my.cnf中thread_cache_size的值.可以用Threads_created/Connections计算cache命中率<br>5.如果Created_tmp_disk_tables太大,就要增加my.cnf中tmp_table_size的值,用基于内存的临时表代替基于磁盘的</p>
<h2 id="0x20、information-schema表"><a href="#0x20、information-schema表" class="headerlink" title="0x20、information_schema表"></a>0x20、information_schema表</h2><ul>
<li><strong><code>CHARACTER_SETS</code></strong> — 关于字符集信息</li>
<li><strong><code>COLLATIONS</code></strong> — 关于每个字符集的（排序）规则信息</li>
<li><strong><code>COLLATION_CHARACTER_SET_APPLICABILITY</code></strong> — 关于字符集和每种（排序）规则的对应关系信息</li>
<li><strong><code>COLUMNS</code></strong> — 关于表中的列信息</li>
<li><strong><code>COLUMN_PRIVILEGES</code></strong> — 关于MySQL对应账号所有列权限信息</li>
<li><strong><code>ENGINES</code></strong> — 关于存储引擎的信息</li>
<li><strong><code>EVENTS</code></strong> — 关于计划事件信息</li>
<li><strong><code>FILES</code></strong> — 从7.8版本（未使用MySQL Cluster版本的情况下）开始，此表会显示关于InnoDB数据文件信息。早前的版本中此表都显示的是关于NDB数据文件的存储信息。</li>
<li><strong><code>GLOBAL_STATUS</code></strong> — 关于服务端状态信息，7.6版本之后此表开始将被存放在PERFORMANCE_SCHEMA数据库中</li>
<li><strong><code>GLOBAL_VARIABLES</code></strong> — 关于服务端全局变量信息，7.6版本之后此表开始将被存放在PERFORMANCE_SCHEMA数据库中</li>
<li><strong><code>KEY_COLUMN_USAGE</code></strong> — 关于含有约束的键值列信息</li>
<li><strong><code>OPTIMIZER_TRACE</code></strong> — 关于内部优化器执行语句的追踪信息，启用相应追踪功能需要启动设置optimizer_trace变量</li>
<li><strong><code>PARAMETERS</code></strong> — 提供关于存储过程和功能函数所使用的参数及功能函数返回值信息</li>
<li><strong><code>PLUGINS</code></strong> — 关于服务端插件信息</li>
<li><strong><code>PROCESSLIST</code></strong> — 关于正在运行的线程信息</li>
<li><strong><code>REFERENTIAL_CONSTRAINTS</code></strong> — 关于外键信息</li>
<li><strong><code>ROUTINES</code></strong> — 关于存储过程和功能函数的相关信息</li>
<li><strong><code>SCHEMATA</code></strong> — 关于数据库的信息</li>
<li><strong><code>SCHEMA_PRIVILEGES</code></strong> — 关于MySQL用户账号所有的数据库权限</li>
<li><strong><code>SESSION_STATUS</code></strong> — 关于当前连接的状态信息，7.6版本之后此表开始将被存放在PERFORMANCE_SCHEMA数据库中</li>
<li><strong><code>SESSION_VARIABLES</code></strong> — 关于当前连接的会话变量信息，7.6版本之后此表开始将被存放在PERFORMANCE_SCHEMA数据库中</li>
<li><strong><code>STATISTICS</code></strong> – 关于表索引的统计信息</li>
<li><strong><code>TABLES</code></strong> — 关于数据库中表的信息</li>
<li><strong><code>TABLESPACES</code></strong> — 提供了活动的表空间的信息，注意此表不提供关于InnoDB表空间的元数据信息，你需要去INNODB_SYS_TABLESPACES和INNODB_SYS_DATAFILES下查看，当然MySQL 5.7.8以后，FILES表也提供了InnoDB表空间相关的元数据信息。</li>
<li><strong><code>TABLE_CONSTRAINTS</code></strong> — 关于表上的约束信息</li>
<li><strong><code>TABLE_PRIVILEGES</code></strong> — 关于由MySQL用户账号所有的对应表权限信息</li>
<li><strong><code>TRIGGERS</code></strong> — 关于数据库中触发器信息</li>
<li><strong><code>USER_PRIVILEGES</code></strong> — 关于MySQL用户账号所有的全局性的权限信息</li>
<li><strong><code>VIEWS</code></strong> — 关于数据库中视图信息</li>
<li><strong><code>INNODB_XXXX表</code></strong> — 这些表被用于监控正在进行的InnoDB活动，可以用于在出现问题前探测到这些低效的性能及承载问题。</li>
</ul>
<h2 id="0x21、配置参数-show-variables"><a href="#0x21、配置参数-show-variables" class="headerlink" title="0x21、配置参数:show variables;"></a>0x21、配置参数:show variables;</h2><p>auto_increment_increment:自增长键的步长<br>auto_increment_offset:自增长键的起始值<br>autocommit:<br>automatic_sp_privileges:<br>back_log:指定MySQL可能的连接数量。指出在MySQL暂时停止响应新请求之前的短时间内多少个请求可以被存在堆栈中。如果系统在一个短时间内有很多连接，则需要增大该参数的值，该参数值指定到来的TCP/IP连接的侦听队列的大小。不同的操作系统在这个队列大小上有它自己的限制。 试图设定back_log高于你的操作系统的限制将是无效的。<br>basedir:MySQL主程序所在路径，即：–basedir参数的值。<br>big_tables:<br>bind_address:<br>binlog_cache_size:<br>binlog_checksum, CRC32<br>binlog_direct_non_transactional_updates<br>binlog_format, STATEMENT<br>binlog_max_flush_queue_time<br>binlog_order_commits, ON<br>binlog_row_image, FULL<br>binlog_rows_query_log_events<br>binlog_stmt_cache_size, 32768<br>block_encryption_mode, aes-128-ecb<br>bulk_insert_buffer_size, 8388608<br>character_set_client, utf8<br>character_set_connection, utf8<br>character_set_database, utf8<br>character_set_filesystem, binary<br>character_set_results, utf8<br>character_set_server, latin1<br>character_set_system：指定系统字符类型 utf8<br>character_sets_dir:指定字符集路径，如： f:\wamp\bin\mysql\mysql5.6.17\share\charsets<br>collation_connection, utf8_general_ci<br>collation_database, utf8_general_ci<br>collation_server, latin1_swedish_ci<br>completion_type, NO_CHAIN<br>concurrent_insert：如果开启该参数，MySQL则允许在执行 SELECT 操作的同时进行 INSERT 操作。如果要关闭该参数，可以在启动 mysqld 时加载 –safe 选项，或者使用 –skip-new 选项。默认为： AUTO<br>connect_timeout：指定MySQL服务等待应答一个连接报文的最大秒数，超出该时间，MySQL向客户端返回 bad handshake。默认为10<br>core_file<br>datadir：指定数据库路径。即为 –datadir 选项的值，如： f:\wamp\bin\mysql\mysql5.6.17\data<br>date_format, %Y-%m-%d<br>datetime_format, %Y-%m-%d %H:%i:%s<br>default_storage_engine, InnoDB<br>default_tmp_storage_engine, InnoDB<br>default_week_format<br>delay_key_write：该参数只对 MyISAM 类型数据表有效。有如下的取值种类：<br>    off: 如果在建表语句中使用 CREATE TABLE … DELAYED_KEY_WRITES，则全部忽略DELAYED_KEY_WRITES;<br>    on: 如果在建表语句中使用 CREATE TABLE … DELAYED_KEY_WRITES，则使用该选项(默认);<br>    all: 所有打开的数据表都将按照 DELAYED_KEY_WRITES 处理。<br>    如果 DELAYED_KEY_WRITES 开启，对于已经打开的数据表而言，在每次索引更新时都不刷新带有<br>    DELAYED_KEY_WRITES 选项的数据表的key buffer，除非该数据表关闭。该参数会大幅提升写入键值的速<br>    度。如果使用该参数，则应该检查所有数据表：myisamchk –fast –force 。默认为ON<br>delayed_insert_limit：在插入delayed_insert_limit行后，INSERT DELAYED处理模块将检查是否有未执行的SELECT语句。如果有，在继续处理前执行允许这些语句。默认为 100<br>delayed_insert_timeout：一个INSERT DELAYED线程应该在终止之前等待INSERT语句的时间。默认为300<br>delayed_queue_size：为处理INSERT DELAYED分配的队列大小(以行为单位)。如果排队满了，任何进行INSERT DELAYED的客户必须等待队列空间释放后才能继续。默认为1000<br>disconnect_on_expired_password, ON<br>div_precision_increment, 4<br>end_markers_in_json<br>enforce_gtid_consistency<br>eq_range_index_dive_limit, 10<br>error_count<br>event_scheduler<br>expire_logs_days<br>explicit_defaults_for_timestamp, ON<br>external_user,<br>flush：在启动MySQL时加载 –flush 参数打开该功能。默认为 OFF<br>flush_time：如果该设置为非0值，那么每flush_time秒，所有打开的表将被关，以释放资源和sync到磁盘。注意：只建议在使用 Windows9x/Me 或者当前操作系统资源严重不足时才使用该参数!默认为 0<br>foreign_key_checks， ON<br>ft_boolean_syntax：搜索引擎维护员希望更改允许用于逻辑全文搜索的操作符。这些则由变量 ft_boolean_syntax 控制。默认为 + -&gt;&lt;()~*:””&amp;|<br>ft_max_word_len：指定被索引的关键词的最大长度。注意：在更改该参数值后，索引必须重建! 默认为84<br>ft_min_word_len：指定被索引的关键词的最小长度。注意：在更改该参数值后，索引必须重建! 默认为4<br>ft_query_expansion_limit, 20<br>ft_stopword_file：从 ft_stopword_file 变量指定的文件中读取列表。在修改了 stopword 列表后，必须重建 FULLTEXT 索引。默认为 (built-in)<br>general_log<br>general_log_file, f:\wamp\bin\mysql\mysql5.6.17\data\zxc-PC.log<br>group_concat_max_len, 1024<br>gtid_executed,<br>gtid_mode<br>gtid_next, AUTOMATIC<br>gtid_owned,<br>gtid_purged,<br>have_compress, YES<br>have_crypt, NO<br>have_dynamic_loading, YES<br>have_geometry, YES<br>have_openssl：YES， 使MySQL支持SSL加密协议。 DISABLED，则不支持<br>have_profiling, YES<br>have_query_cache, YES<br>have_rtree_keys, YES<br>have_ssl, DISABLED<br>have_symlink, YES<br>host_cache_size, 279<br>hostname, zxc-PC<br>identity<br>ignore_builtin_innodb<br>ignore_db_dirs,<br>init_connect,<br>init_file：指定一个包含SQL查询语句的文件，该文件在MySQL启动时将被加载，文件中的SQL语句也会被执行。<br>init_slave,<br>innodb_adaptive_flushing, ON<br>innodb_adaptive_flushing_lwm, 10<br>innodb_adaptive_hash_index, ON<br>innodb_adaptive_max_sleep_delay, 150000<br>innodb_additional_mem_pool_size, 8388608<br>innodb_api_bk_commit_interval, 5<br>innodb_api_disable_rowlock<br>innodb_api_enable_binlog<br>innodb_api_enable_mdl<br>innodb_api_trx_level<br>innodb_autoextend_increment, 64<br>innodb_autoinc_lock_mode, 1<br>innodb_buffer_pool_dump_at_shutdown<br>innodb_buffer_pool_dump_now<br>innodb_buffer_pool_filename, ib_buffer_pool<br>innodb_buffer_pool_instances, 8<br>innodb_buffer_pool_load_abort<br>innodb_buffer_pool_load_at_startup<br>innodb_buffer_pool_load_now<br>innodb_buffer_pool_size, 134217728<br>innodb_change_buffer_max_size, 25<br>innodb_change_buffering, all<br>innodb_checksum_algorithm, innodb<br>innodb_checksums, ON<br>innodb_cmp_per_index_enabled<br>innodb_commit_concurrency<br>innodb_compression_failure_threshold_pct, 5<br>innodb_compression_level, 6<br>innodb_compression_pad_pct_max, 50<br>innodb_concurrency_tickets, 5000<br>innodb_data_file_path, ibdata1:12M:autoextend<br>innodb_data_home_dir,<br>innodb_disable_sort_file_cache<br>innodb_doublewrite, ON<br>innodb_fast_shutdown, 1<br>innodb_file_format, Antelope<br>innodb_file_format_check, ON<br>innodb_file_format_max, Antelope<br>innodb_file_per_table, ON<br>innodb_flush_log_at_timeout, 1<br>innodb_flush_log_at_trx_commit, 1<br>innodb_flush_method,<br>innodb_flush_neighbors, 1<br>innodb_flushing_avg_loops, 30<br>innodb_force_load_corrupted<br>innodb_force_recovery<br>innodb_ft_aux_table,<br>innodb_ft_cache_size, 8000000<br>innodb_ft_enable_diag_print<br>innodb_ft_enable_stopword, ON<br>innodb_ft_max_token_size, 84<br>innodb_ft_min_token_size, 3<br>innodb_ft_num_word_optimize, 2000<br>innodb_ft_result_cache_limit, 2000000000<br>innodb_ft_server_stopword_table,<br>innodb_ft_sort_pll_degree, 2<br>innodb_ft_total_cache_size, 640000000<br>innodb_ft_user_stopword_table,<br>innodb_io_capacity, 200<br>innodb_io_capacity_max, 2000<br>innodb_large_prefix<br>innodb_lock_wait_timeout, 50<br>innodb_locks_unsafe_for_binlog<br>innodb_log_buffer_size, 8388608<br>innodb_log_compressed_pages, ON<br>innodb_log_file_size, 50331648<br>innodb_log_files_in_group, 2<br>innodb_log_group_home_dir, .<br>innodb_lru_scan_depth, 1024<br>innodb_max_dirty_pages_pct, 75<br>innodb_max_dirty_pages_pct_lwm<br>innodb_max_purge_lag<br>innodb_max_purge_lag_delay<br>innodb_mirrored_log_groups, 1<br>innodb_monitor_disable,<br>innodb_monitor_enable,<br>innodb_monitor_reset,<br>innodb_monitor_reset_all,<br>innodb_old_blocks_pct, 37<br>innodb_old_blocks_time, 1000<br>innodb_online_alter_log_max_size, 134217728<br>innodb_open_files, 2000<br>innodb_optimize_fulltext_only<br>innodb_page_size, 16384<br>innodb_print_all_deadlocks<br>innodb_purge_batch_size, 300<br>innodb_purge_threads, 1<br>innodb_random_read_ahead<br>innodb_read_ahead_threshold, 56<br>innodb_read_io_threads, 4<br>innodb_read_only<br>innodb_replication_delay<br>innodb_rollback_on_timeout<br>innodb_rollback_segments, 128<br>innodb_sort_buffer_size, 1048576<br>innodb_spin_wait_delay, 6<br>innodb_stats_auto_recalc, ON<br>innodb_stats_method, nulls_equal<br>innodb_stats_on_metadata<br>innodb_stats_persistent, ON<br>innodb_stats_persistent_sample_pages, 20<br>innodb_stats_sample_pages, 8<br>innodb_stats_transient_sample_pages, 8<br>innodb_status_output<br>innodb_status_output_locks<br>innodb_strict_mode<br>innodb_support_xa, ON<br>innodb_sync_array_size, 1<br>innodb_sync_spin_loops, 30<br>innodb_table_locks, ON<br>innodb_thread_concurrency<br>innodb_thread_sleep_delay, 10000<br>innodb_undo_directory, .<br>innodb_undo_logs, 128<br>innodb_undo_tablespaces<br>innodb_use_native_aio, ON<br>innodb_use_sys_malloc, ON<br>innodb_version, 5.6.17<br>innodb_write_io_threads, 4<br>insert_id<br>interactive_timeout：服务器在关上它前在一个交互连接上等待行动的秒数。一个交互的客户被定义为对mysql_real_connect()使用CLIENT_INTERACTIVE选项的客户。也可见wait_timeout。默认为 28800<br>join_buffer_size：用于全部联合(join)的缓冲区大小(不是用索引的联结)。缓冲区对2个表间的每个全部联结分配一次缓冲区，当增加索引不可能时，增加该值可得到一个更快的全部联结。(通常得到快速联结的最佳方法是增加索引。)默认为 262144<br>keep_files_on_create<br>key_buffer_size：用于索引块的缓冲区大小，增加它可得到更好处理的索引(对所有读和多重写)，到你能负担得起那样多。如果你使它太大，系统将开始变慢慢。必须为OS文件系统缓存留下一些空间。为了在写入多个行时得到更多的速度。默认为 8388608<br>key_cache_age_threshold, 300<br>key_cache_block_size, 1024<br>key_cache_division_limit, 100<br>large_files_support：开启大文件支持。默认为 ON<br>large_page_size<br>large_pages<br>last_insert_id<br>lc_messages, en_US<br>lc_messages_dir, f:\wamp\bin\mysql\mysql5.6.17\share<br>lc_time_names, en_US<br>license, GPL<br>local_infile, ON<br>lock_wait_timeout, 31536000<br>log_bin：开启 binary log。默认为 OFF<br>log_bin_basename,<br>log_bin_index,<br>log_bin_trust_function_creators<br>log_bin_use_v1_row_events<br>log_error, f:\wamp\bin\mysql\mysql5.6.17\data\zxc-PC.err<br>log_output, FILE<br>log_queries_not_using_indexes<br>log_slave_updates：如果使用链状同步或者多台Slave之间进行同步则需要开启此参数。默认为 OFF<br>log_slow_admin_statements<br>log_slow_slave_statements<br>log_throttle_queries_not_using_indexes<br>log_warnings, 1<br>long_query_time：如果一个查询所用时间超过该参数值，则该查询操作将被记录在Slow_queries中。默认为 10.000000<br>low_priority_updates<br>lower_case_file_system, ON<br>lower_case_table_names：1: MySQL总使用小写字母进行SQL操作;0: 关闭该功能。默认为 1<br>master_info_repository, FILE<br>master_verify_checksum<br>max_allowed_packet：一个查询语句包的最大尺寸。消息缓冲区被初始化为net_buffer_length字节，但是可在需要时增加到max_allowed_packet个字节。该值太小则会在处理大包时产生错误。如果使用大的BLOB列，必须增加该值。默认为 4194304<br>max_binlog_cache_size：指定binary log缓存的最大容量，如果设置的过小，则在执行复杂查询语句时MySQL会出错。默认为 18446744073709547520<br>max_binlog_size：指定binary log文件的最大容量。默认为 1073741824<br>max_binlog_stmt_cache_size, 18446744073709547520<br>max_connect_errors：对于同一主机，如果有超出该参数值个数的中断错误连接，则该主机将被禁止连接。如需对该主机进行解禁，执行：FLUSH HOST。默认为 100<br>max_connections：允许同时连接MySQL服务器的客户数量。如果超出该值，MySQL会返回Too many connections错误，但通常情况下，MySQL能够自行解决。默认为 151<br>max_delayed_threads：不要启动多于的这个数字的线程来处理INSERT DELAYED语句。如果你试图在所有INSERT DELAYED线程在用后向一张新表插入数据，行将被插入，就像DELAYED属性没被指定那样。默认为 20<br>max_error_count, 64<br>max_heap_table_size：内存表所能使用的最大容量。默认为 16777216<br>max_insert_delayed_threads, 20<br>max_join_size：如果要查询多于max_join_size个记录的联合将返回一个错误。如果要执行没有一个WHERE的语句并且耗费大量时间，且返回上百万行的联结，则需要加大该参数值。默认为 18446744073709551615<br>max_length_for_sort_data, 1024<br>max_prepared_stmt_count, 16382<br>max_relay_log_size<br>max_seeks_for_key, 4294967295<br>max_sort_length：在排序BLOB或TEXT值时使用的字节数(每个值仅头max_sort_length个字节被使用;其余的被忽略)。默认为 1024<br>max_sp_recursion_depth<br>max_tmp_tables：(该参数目前还没有作用)。一个客户能同时保持打开的临时表的最大数量。默认为 32<br>max_user_connections：指定来自同一用户的最多连接数。设置为0则代表不限制。默认为 0<br>max_write_lock_count：当出现max_write_lock_count个写入锁定数量后，开始允许一些被锁定的读操作开始执行。避免写入锁定过多，读取操作处于长时间等待状态。默认为 4294967295<br>metadata_locks_cache_size, 1024<br>metadata_locks_hash_instances, 8<br>min_examined_row_limit<br>multi_range_count, 256<br>myisam_data_pointer_size, 6<br>myisam_max_sort_file_size, 2146435072<br>myisam_mmap_size, 18446744073709551615<br>myisam_recover_options<br>myisam_repair_threads, 1<br>myisam_sort_buffer_size, 8388608<br>myisam_stats_method, nulls_unequal<br>myisam_use_mmap<br>named_pipe<br>net_buffer_length, 16384<br>net_read_timeout, 30<br>net_retry_count, 10<br>net_write_timeout, 60<br>new<br>old<br>old_alter_table<br>old_passwords<br>open_files_limit, 7048<br>optimizer_prune_level, 1<br>optimizer_search_depth, 62<br>optimizer_switch, index_merge=on,index_merge_union=on,index_merge_sort_union=on,index_merge_intersection=on,engine_condition_pushdown=on,index_condition_pushdown=on,mrr=on,mrr_cost_based=on,block_nested_loop=on,batched_key_access=off,materialization=on,semijoin=on,loosescan=on,firstmatch=on,subquery_materialization_cost_based=on,use_index_extensions=on<br>optimizer_trace, enabled=off,one_line=off<br>optimizer_trace_features, greedy_search=on,range_optimizer=on,dynamic_range=on,repeated_subselect=on<br>optimizer_trace_limit, 1<br>optimizer_trace_max_mem_size, 16384<br>optimizer_trace_offset, -1<br>performance_schema, ON<br>performance_schema_accounts_size, 100<br>performance_schema_digests_size, 10000<br>performance_schema_events_stages_history_long_size, 10000<br>performance_schema_events_stages_history_size, 10<br>performance_schema_events_statements_history_long_size, 10000<br>performance_schema_events_statements_history_size, 10<br>performance_schema_events_waits_history_long_size, 10000<br>performance_schema_events_waits_history_size, 10<br>performance_schema_hosts_size, 100<br>performance_schema_max_cond_classes, 80<br>performance_schema_max_cond_instances, 3504<br>performance_schema_max_file_classes, 50<br>performance_schema_max_file_handles, 32768<br>performance_schema_max_file_instances, 7693<br>performance_schema_max_mutex_classes, 200<br>performance_schema_max_mutex_instances, 15906<br>performance_schema_max_rwlock_classes, 40<br>performance_schema_max_rwlock_instances, 9102<br>performance_schema_max_socket_classes, 10<br>performance_schema_max_socket_instances, 322<br>performance_schema_max_stage_classes, 150<br>performance_schema_max_statement_classes, 168<br>performance_schema_max_table_handles, 4000<br>performance_schema_max_table_instances, 12500<br>performance_schema_max_thread_classes, 50<br>performance_schema_max_thread_instances, 402<br>performance_schema_session_connect_attrs_size, 512<br>performance_schema_setup_actors_size, 100<br>performance_schema_setup_objects_size, 100<br>performance_schema_users_size, 100<br>pid_file, f:\wamp\bin\mysql\mysql5.6.17\data\zxc-PC.pid<br>plugin_dir, f:\wamp\bin\mysql\mysql5.6.17\lib\plugin<br>port, 3306<br>preload_buffer_size, 32768<br>profiling<br>profiling_history_size, 15<br>protocol_version, 10<br>proxy_user,<br>pseudo_slave_mode<br>pseudo_thread_id, 2<br>query_alloc_block_size, 8192<br>query_cache_limit, 1048576<br>query_cache_min_res_unit, 4096<br>query_cache_size, 1048576<br>query_cache_type<br>query_cache_wlock_invalidate<br>query_prealloc_size, 8192<br>rand_seed1<br>rand_seed2<br>range_alloc_block_size, 4096<br>read_buffer_size, 131072<br>read_only<br>read_rnd_buffer_size, 262144<br>relay_log,<br>relay_log_basename,<br>relay_log_index,<br>relay_log_info_file, relay-log.info<br>relay_log_info_repository, FILE<br>relay_log_purge, ON<br>relay_log_recovery<br>relay_log_space_limit<br>report_host,<br>report_password,<br>report_port, 3306<br>report_user,<br>rpl_stop_slave_timeout, 31536000<br>secure_auth, ON<br>secure_file_priv,<br>server_id<br>server_id_bits, 32<br>server_uuid, 5c0971e1-3985-11e5-849c-dc0ea17af70f<br>shared_memory<br>shared_memory_base_name, MYSQL<br>skip_external_locking, ON<br>skip_name_resolve<br>skip_networking<br>skip_show_database<br>slave_allow_batching<br>slave_checkpoint_group, 512<br>slave_checkpoint_period, 300<br>slave_compressed_protocol<br>slave_exec_mode, STRICT<br>slave_load_tmpdir, C:\WINDOWS\TEMP<br>slave_max_allowed_packet, 1073741824<br>slave_net_timeout, 3600<br>slave_parallel_workers<br>slave_pending_jobs_size_max, 16777216<br>slave_rows_search_algorithms, TABLE_SCAN,INDEX_SCAN<br>slave_skip_errors<br>slave_sql_verify_checksum, ON<br>slave_transaction_retries, 10<br>slave_type_conversions,<br>slow_launch_time, 2<br>slow_query_log<br>slow_query_log_file, f:\wamp\bin\mysql\mysql5.6.17\data\zxc-PC-slow.log<br>socket, MySQL<br>sort_buffer_size, 262144<br>sql_auto_is_null<br>sql_big_selects, ON<br>sql_buffer_result<br>sql_log_bin, ON<br>sql_log_off<br>sql_mode, NO_ENGINE_SUBSTITUTION<br>sql_notes, ON<br>sql_quote_show_create, ON<br>sql_safe_updates, ON<br>sql_select_limit, 18446744073709551615<br>sql_slave_skip_counter<br>sql_warnings<br>ssl_ca,<br>ssl_capath,<br>ssl_cert,<br>ssl_cipher,<br>ssl_crl,<br>ssl_crlpath,<br>ssl_key,<br>storage_engine, InnoDB<br>stored_program_cache, 256<br>sync_binlog<br>sync_frm, ON<br>sync_master_info, 10000<br>sync_relay_log, 10000<br>sync_relay_log_info, 10000<br>system_time_zone,<br>table_definition_cache, 1400<br>table_open_cache, 2000<br>table_open_cache_instances, 1<br>thread_cache_size, 9<br>thread_concurrency, 10<br>thread_handling, one-thread-per-connection<br>thread_stack, 262144<br>time_format, %H:%i:%s<br>time_zone, SYSTEM<br>timed_mutexes<br>timestamp, 1449802723.239825<br>tmp_table_size, 16777216<br>tmpdir, C:\WINDOWS\TEMP<br>transaction_alloc_block_size, 8192<br>transaction_allow_batching<br>transaction_prealloc_size, 4096<br>tx_isolation, REPEATABLE-READ<br>tx_read_only<br>unique_checks, ON<br>updatable_views_with_limit, YES<br>version, 5.6.17<br>version_comment, MySQL Community Server (GPL)<br>version_compile_machine, x86_64<br>version_compile_os, Win64<br>wait_timeout, 28800<br>warning_count, 1</p>
<h2 id="0x22、性能指标-show-status"><a href="#0x22、性能指标-show-status" class="headerlink" title="0x22、性能指标:show status;"></a>0x22、性能指标:show status;</h2><p>  Aborted_clients：由于客户端没有正确关闭连接导致客户端终止而中断的连接数。global<br>  Aborted_connects:试图连接到MySQL服务器而失败的连接数。global<br>  Binlog_cache_disk_use:使用临时二进制日志缓存但超过binlog_cache_size值并使用临时文件来保存事务中的语句的事务数量.global<br>  Binlog_cache_use:使用临时二进制日志缓存的事务数量.global<br>  Binlog_stmt_cache_disk_use:<br>  Binlog_stmt_cache_use:<br>  Bytes_received:从所有客户端接收到的字节数。both<br>  Bytes_sent:发送给所有客户端的字节数。both<br>  Com_admin_commands:<br>  Com_alter_db:<br>  Com_alter_db_upgrade:<br>  Com_alter_event:<br>  Com_alter_function:<br>  Com_alter_procedure<br>  Com_alter_server<br>  Com_alter_table<br>  Com_alter_tablespace<br>  Com_alter_user<br>  Com_analyze<br>  Com_assign_to_keycache<br>  Com_begin<br>  Com_binlog<br>  Com_call_procedure<br>  Com_change_db, 1<br>  Com_change_master<br>  Com_check<br>  Com_checksum<br>  Com_commit<br>  Com_create_db<br>  Com_create_event<br>  Com_create_function<br>  Com_create_index<br>  Com_create_procedure<br>  Com_create_server<br>  Com_create_table<br>  Com_create_trigger<br>  Com_create_udf<br>  Com_create_user<br>  Com_create_view<br>  Com_dealloc_sql<br>  Com_delete<br>  Com_delete_multi<br>  Com_do<br>  Com_drop_db<br>  Com_drop_event<br>  Com_drop_function<br>  Com_drop_index<br>  Com_drop_procedure<br>  Com_drop_server<br>  Com_drop_table<br>  Com_drop_trigger<br>  Com_drop_user<br>  Com_drop_view<br>  Com_empty_query<br>  Com_execute_sql<br>  Com_flush<br>  Com_get_diagnostics<br>  Com_grant<br>  Com_ha_close<br>  Com_ha_open<br>  Com_ha_read<br>  Com_help<br>  Com_insert<br>  Com_insert_select<br>  Com_install_plugin<br>  Com_kill<br>  Com_load<br>  Com_lock_tables<br>  Com_optimize<br>  Com_preload_keys<br>  Com_prepare_sql<br>  Com_purge<br>  Com_purge_before_date<br>  Com_release_savepoint<br>  Com_rename_table<br>  Com_rename_user<br>  Com_repair<br>  Com_replace<br>  Com_replace_select<br>  Com_reset<br>  Com_resignal<br>  Com_revoke<br>  Com_revoke_all<br>  Com_rollback<br>  Com_rollback_to_savepoint<br>  Com_savepoint<br>  Com_select, 3<br>  Com_set_option, 6<br>  Com_show_binlog_events<br>  Com_show_binlogs<br>  Com_show_charsets<br>  Com_show_collations<br>  Com_show_create_db<br>  Com_show_create_event<br>  Com_show_create_func<br>  Com_show_create_proc<br>  Com_show_create_table<br>  Com_show_create_trigger<br>  Com_show_databases<br>  Com_show_engine_logs<br>  Com_show_engine_mutex<br>  Com_show_engine_status<br>  Com_show_errors<br>  Com_show_events<br>  Com_show_fields<br>  Com_show_function_code<br>  Com_show_function_status<br>  Com_show_grants<br>  Com_show_keys<br>  Com_show_master_status<br>  Com_show_open_tables<br>  Com_show_plugins<br>  Com_show_privileges<br>  Com_show_procedure_code<br>  Com_show_procedure_status<br>  Com_show_processlist<br>  Com_show_profile<br>  Com_show_profiles<br>  Com_show_relaylog_events<br>  Com_show_slave_hosts<br>  Com_show_slave_status<br>  Com_show_status, 2<br>  Com_show_storage_engines<br>  Com_show_table_status<br>  Com_show_tables<br>  Com_show_triggers<br>  Com_show_variables, 6<br>  Com_show_warnings<br>  Com_signal<br>  Com_slave_start<br>  Com_slave_stop<br>  Com_stmt_close<br>  Com_stmt_execute<br>  Com_stmt_fetch<br>  Com_stmt_prepare<br>  Com_stmt_reprepare<br>  Com_stmt_reset<br>  Com_stmt_send_long_data<br>  Com_truncate<br>  Com_uninstall_plugin<br>  Com_unlock_tables<br>  Com_update<br>  Com_update_multi<br>  Com_xa_commit<br>  Com_xa_end<br>  Com_xa_prepare<br>  Com_xa_recover<br>  Com_xa_rollback<br>  Com_xa_start<br>  Compression<br>  Connection_errors_accept<br>  Connection_errors_internal<br>  Connection_errors_max_connections<br>  Connection_errors_peer_address<br>  Connection_errors_select<br>  Connection_errors_tcpwrap<br>  Connections:试图连接到(不管是否成功)MySQL服务器的连接数.global<br>  Created_tmp_disk_tables:服务器执行语句时在硬盘上自动创建的临时表的数量.both<br>  Created_tmp_files:mysqld已经创建的临时文件的数量.global<br>  Created_tmp_tables:服务器执行语句时自动创建的内存中的临时表的数量。如果Created_tmp_disk_tables较大，你可能要增加tmp_table_size值使临时 表基于内存而不基于硬盘.both<br>  Delayed_errors:用INSERT DELAYED写的出现错误的行数(可能为duplicate key)。global<br>  Delayed_insert_threads:使用的INSERT DELAYED处理器线程数.global<br>  Delayed_writes:写入的INSERT DELAYED行数.global<br>  Flush_commands:执行的FLUSH语句数.global<br>  Handler_commit:内部提交语句数.both<br>  Handler_delete:行从表中删除的次数.both<br>  Handler_discover:MySQL服务器可以问NDB CLUSTER存储引擎是否知道某一名字的表。这被称作发现。Handler_discover说明通过该方法发现的次数。both<br>  Handler_external_lock:<br>  Handler_mrr_init:<br>  Handler_prepare:A counter for the prepare phase of two-phase commit operations.both<br>  Handler_read_first:索引中第一条被读的次数。如果较高，它建议服务器正执行大量全索引扫描；例如，SELECT col1 FROM foo，假定col1有索引。both<br>  Handler_read_key:根据键读一行的请求数。如果较高，说明查询和表的索引正确。both<br>  Handler_read_last:<br>  Handler_read_next:按照键顺序读下一行的请求数。如果你用范围约束或如果执行索引扫描来查询索引列，该值增加.both<br>  Handler_read_prev:按照键顺序读前一行的请求数。该读方法主要用于优化ORDER BY … DESC.both<br>  Handler_read_rnd:根据固定位置读一行的请求数。如果你正执行大量查询并需要对结果进行排序该值较高。你可能使用了大量需要MySQL扫描整个表的查询或你的连接没有正确使用键.both<br>  Handler_read_rnd_next:在数据文件中读下一行的请求数。如果你正进行大量的表扫描，该值较高。通常说明你的表索引不正确或写入的查询没有利用索引。both<br>  Handler_rollback:内部ROLLBACK语句的数量.both<br>  Handler_savepoint:在一个存储引擎放置一个保存点的请求数量。both<br>  Handler_savepoint_rollback:在一个存储引擎的要求回滚到一个保存点数目。both<br>  Handler_update:在表内更新一行的请求数。both<br>  Handler_write:在表内插入一行的请求数。both<br>  Innodb_available_undo_logs:<br>  Innodb_buffer_pool_bytes_data:<br>  Innodb_buffer_pool_bytes_dirty<br>  Innodb_buffer_pool_dump_status, not started<br>  Innodb_buffer_pool_load_status, not started<br>  Innodb_buffer_pool_pages_data:包含数据的页数(脏或干净)。global<br>  Innodb_buffer_pool_pages_dirty:当前的脏页数。global<br>  Innodb_buffer_pool_pages_flushed:要求清空的缓冲池页数.global<br>  Innodb_buffer_pool_pages_free:空页数。global<br>  Innodb_buffer_pool_pages_misc:忙的页数，因为它们已经被分配优先用作管理，例如行锁定或适用的哈希索引。该值还可以计算为Innodb_buffer_pool_pages_total – Innodb_buffer_pool_pages_free – Innodb_buffer_pool_pages_data。global<br>  Innodb_buffer_pool_pages_total:缓冲池总大小（页数）。global<br>  Innodb_buffer_pool_read_ahead:<br>  Innodb_buffer_pool_read_ahead_evicted<br>  Innodb_buffer_pool_read_ahead_rnd:InnoDB初始化的“随机”read-aheads数。当查询以随机顺序扫描表的一大部分时发生。global<br>  Innodb_buffer_pool_read_requests:InnoDB已经完成的逻辑读请求数。global<br>  Innodb_buffer_pool_reads:不能满足InnoDB必须单页读取的缓冲池中的逻辑读数量。global<br>  Innodb_buffer_pool_wait_free:一般情况，通过后台向InnoDB缓冲池写。但是，如果需要读或创建页，并且没有干净的页可用，则它还需要先等待页面清空。该计数器对等待实例进行记数。如果已经适当设置缓冲池大小，该值应小。global<br>  Innodb_buffer_pool_write_requests:向InnoDB缓冲池的写数量。global<br>  Innodb_data_fsyncs:fsync()操作数。global<br>  Innodb_data_pending_fsyncs:当前挂起的fsync()操作数。global<br>  Innodb_data_pending_reads:当前挂起的读数。global<br>  Innodb_data_pending_writes:当前挂起的写数。global<br>  Innodb_data_read:    至此已经读取的数据数量（字节）。global<br>  Innodb_data_reads:数据读总数量。global<br>  Innodb_data_writes:数据读写数量。global<br>  Innodb_data_written:至此已经写入的数据量（字节）。global<br>  Innodb_dblwr_pages_written:已经执行的双写操作数量.global<br>  Innodb_dblwr_writes:双写操作已经写好的页数.global<br>  Innodb_have_atomic_builtins:<br>  Innodb_log_waits<br>  Innodb_log_write_requests:日志写请求数。global<br>  Innodb_log_writes:向日志文件的物理写数量。global<br>  Innodb_num_open_files:<br>  Innodb_os_log_fsyncs:向日志文件完成的fsync()写数量。global<br>  Innodb_os_log_pending_fsyncs:挂起的日志文件fsync()操作数量。global<br>  Innodb_os_log_pending_writes:挂起的日志文件写操作.global<br>  Innodb_os_log_written:写入日志文件的字节数。global<br>  Innodb_page_size:编译的InnoDB页大小(默认16KB)。许多值用页来记数；页的大小很容易转换为字节。global<br>  Innodb_pages_created:创建的页数。global<br>  Innodb_pages_read:读取的页数。global<br>  Innodb_pages_written:写入的页数。global<br>  Innodb_row_lock_current_waits:当前等待的待锁定的行数。global<br>  Innodb_row_lock_time:行锁定花费的总时间，单位毫秒。global<br>  Innodb_row_lock_time_avg:    行锁定的平均时间，单位毫秒。global<br>  Innodb_row_lock_time_max:行锁定的最长时间，单位毫秒。global<br>  Innodb_row_lock_waits:一行锁定必须等待的时间数。global<br>  Innodb_rows_deleted:从InnoDB表删除的行数。global<br>  Innodb_rows_inserted:插入到InnoDB表的行数。global<br>  Innodb_rows_read:    从InnoDB表读取的行数。global<br>  Innodb_rows_updated:    InnoDB表内更新的行数。global<br>  Innodb_truncated_status_writes:<br>  Key_blocks_not_flushed:键缓存内已经更改但还没有清空到硬盘上的键的数据块数量。global<br>  Key_blocks_unused:键缓存内未使用的块数量。你可以使用该值来确定使用了多少键缓存.global<br>  Key_blocks_used:键缓存内使用的块数量。该值为高水平线标记，说明已经同时最多使用了多少块。global<br>  Key_read_requests:从缓存读键的数据块的请求数。global<br>  Key_reads:从硬盘读取键的数据块的次数。如果Key_reads较大，则Key_buffer_size值可能太小。可以用Key_reads/Key_read_requests计算缓存损失率。global<br>  Key_write_requests:将键的数据块写入缓存的请求数。global<br>  Key_writes:向硬盘写入将键的数据块的物理写操作的次数。global<br>  Last_query_cost:用查询优化器计算的最后编译的查询的总成本。用于对比同一查询的不同查询方案的成本。默认值0表示还没有编译查询。 默认值是0。Last_query_cost具有会话范围。global<br>  Last_query_partial_plans:<br>  Max_used_connections:服务器启动后已经同时使用的连接的最大数量。global<br>  Not_flushed_delayed_rows<br>  Open_files:打开的文件的数目。global<br>  Open_streams:打开的流的数量(主要用于记录)。global<br>  Open_table_definitions:缓存的.frm文件数量.global<br>  Open_tables:当前打开的表的数量。both<br>  Opened_files:文件打开的数量。不包括诸如套接字或管道其他类型的文件。 也不包括存储引擎用来做自己的内部功能的文件。global<br>  Opened_table_definitions:已经缓存的.frm文件数量.both<br>  Opened_tables:已经打开的表的数量。如果Opened_tables较大，table_cache 值可能太小。both<br>  Performance_schema_accounts_lost:<br>  Performance_schema_cond_classes_lost:<br>  Performance_schema_cond_instances_lost:<br>  Performance_schema_digest_lost:<br>  Performance_schema_file_classes_lost:<br>  Performance_schema_file_handles_lost:<br>  Performance_schema_file_instances_lost:<br>  Performance_schema_hosts_lost:<br>  Performance_schema_locker_lost:<br>  Performance_schema_mutex_classes_lost:<br>  Performance_schema_mutex_instances_lost:<br>  Performance_schema_rwlock_classes_lost:<br>  Performance_schema_rwlock_instances_lost:<br>  Performance_schema_session_connect_attrs_lost:<br>  Performance_schema_socket_classes_lost:<br>  Performance_schema_socket_instances_lost:<br>  Performance_schema_stage_classes_lost:<br>  Performance_schema_statement_classes_lost:<br>  Performance_schema_table_handles_lost:<br>  Performance_schema_table_instances_lost:<br>  Performance_schema_thread_classes_lost:<br>  Performance_schema_thread_instances_lost:<br>  Performance_schema_users_lost:<br>  Prepared_stmt_count:当前的预处理语句的数量。 (最大数为系统变量: max_prepared_stmt_count).global<br>  Qcache_free_blocks:查询缓存内自由内存块的数量。global<br>  Qcache_free_memory:用于查询缓存的自由内存的数量。global<br>  Qcache_hits:查询缓存被访问的次数。global<br>  Qcache_inserts:加入到缓存的查询数量。global<br>  Qcache_lowmem_prunes:由于内存较少从缓存删除的查询数量。global<br>  Qcache_not_cached:非缓存查询数(不可缓存，或由于query_cache_type设定值未缓存)。global<br>  Qcache_queries_in_cache:登记到缓存内的查询的数量.global<br>  Qcache_total_blocks:查询缓存内的总块数。global<br>  Queries:服务器执行的请求个数，包含存储过程中的请求。global<br>  Questions:已经发送给服务器的查询的个数。global<br>  Select_full_join:没有使用索引的联接的数量。如果该值不为0,你应仔细检查表的索引.both<br>  Select_full_range_join:在引用的表中使用范围搜索的联接的数量。both<br>  Select_range:在第一个表中使用范围的联接的数量。一般情况不是关键问题，即使该值相当大。both<br>  Select_range_check:在每一行数据后对键值进行检查的不带键值的联接的数量。如果不为0，你应仔细检查表的索引。both<br>  Select_scan:对第一个表进行完全扫描的联接的数量。both<br>  Slave_heartbeat_period:复制的心跳间隔.global<br>  Slave_last_heartbeat:<br>  Slave_open_temp_tables:从服务器打开的临时表数量.global<br>  Slave_received_heartbeats:从服务器心跳数.global<br>  Slave_retried_transactions:本次启动以来从服务器复制线程重试次数.global<br>  Slave_running:如果该服务器是连接到主服务器的从服务器，则该值为ON。global<br>  Slow_launch_threads:创建时间超过slow_launch_time秒的线程数。both<br>  Slow_queries:查询时间超过long_query_time秒的查询的个数。both<br>  Sort_merge_passes:排序算法已经执行的合并的数量。如果这个变量值较大，应考虑增加sort_buffer_size系统变量的值。both<br>  Sort_range:在范围内执行的排序的数量.both<br>  Sort_rows:已经排序的行数。both<br>  Sort_scan:通过扫描表完成的排序的数量。both<br>  Ssl_accept_renegotiates:<br>  Ssl_accepts<br>  Ssl_callback_cache_hits<br>  Ssl_cipher<br>  Ssl_cipher_list<br>  Ssl_client_connects<br>  Ssl_connect_renegotiates<br>  Ssl_ctx_verify_depth<br>  Ssl_ctx_verify_mode<br>  Ssl_default_timeout<br>  Ssl_finished_accepts<br>  Ssl_finished_connects<br>  Ssl_server_not_after<br>  Ssl_server_not_before<br>  Ssl_session_cache_hits<br>  Ssl_session_cache_misses<br>  Ssl_session_cache_mode NONE<br>  Ssl_session_cache_overflows<br>  Ssl_session_cache_size<br>  Ssl_session_cache_timeouts<br>  Ssl_sessions_reused<br>  Ssl_used_session_cache_entries<br>  Ssl_verify_depth<br>  Ssl_verify_mode<br>  Ssl_version,<br>  Table_locks_immediate:立即获得的表的锁的次数。global<br>  Table_locks_waited:不能立即获得的表的锁的次数。如果该值较高，并且有性能问题，你应首先优化查询，然后拆分表或使用复制。global<br>  Table_open_cache_hits:<br>  Table_open_cache_misses<br>  Table_open_cache_overflows<br>  Tc_log_max_pages_used<br>  Tc_log_page_size<br>  Tc_log_page_waits<br>  Threads_cached:线程缓存内的线程的数量。global<br>  Threads_connected:当前打开的连接的数量。global<br>  Threads_created:创建用来处理连接的线程数。如果Threads_created较大，你可能要增加thread_cache_size值。缓存访问率的计算方法Threads_created/Connections。global<br>  Threads_running:激活的（非睡眠状态）线程数。global<br>  Uptime:服务器已经运行的时间（以秒为单位）。global<br>  Uptime_since_flush_status:最近一次使用FLUSH STATUS 的时间（以秒为单位）。global</p>

    </div>

    
    
    
        <div class="reward-container">
  <div></div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechat.png" alt="hackfox 微信支付">
        <p>微信支付</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.png" alt="hackfox 支付宝">
        <p>支付宝</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>hackfox
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://xsoer.github.io/2015/10/12/2015/10-12-mysql技术/" title="mysql技术">https://xsoer.github.io/2015/10/12/2015/10-12-mysql技术/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/mysql/" rel="tag"># mysql</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2015/10/01/2015/10-01-运维技能/" rel="prev" title="运维技能">
      <i class="fa fa-chevron-left"></i> 运维技能
    </a></div>
      <div class="post-nav-item">
    <a href="/2015/12/28/2015/12-28-mysql性能优化建议/" rel="next" title="mysql性能优化建议">
      mysql性能优化建议 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#0x00、数据库基本概念"><span class="nav-number">1.</span> <span class="nav-text">0x00、数据库基本概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x01、结构体系"><span class="nav-number">2.</span> <span class="nav-text">0x01、结构体系</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x02、系统架构"><span class="nav-number">3.</span> <span class="nav-text">0x02、系统架构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-逻辑模块"><span class="nav-number">3.1.</span> <span class="nav-text">1.逻辑模块</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x03、安全"><span class="nav-number">4.</span> <span class="nav-text">0x03、安全</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-网络"><span class="nav-number">4.1.</span> <span class="nav-text">1.网络</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-主机"><span class="nav-number">4.2.</span> <span class="nav-text">2.主机</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-数据库"><span class="nav-number">4.3.</span> <span class="nav-text">3.数据库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-代码"><span class="nav-number">4.4.</span> <span class="nav-text">4.代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-权限"><span class="nav-number">4.5.</span> <span class="nav-text">5.权限</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-访问控制原理"><span class="nav-number">4.6.</span> <span class="nav-text">6.访问控制原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-访问授权策略"><span class="nav-number">4.7.</span> <span class="nav-text">7.访问授权策略</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-安全设置注意项"><span class="nav-number">4.8.</span> <span class="nav-text">8.安全设置注意项</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x04、存储管理器"><span class="nav-number">5.</span> <span class="nav-text">0x04、存储管理器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x05、查询处理器"><span class="nav-number">6.</span> <span class="nav-text">0x05、查询处理器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x06、关系型数据库"><span class="nav-number">7.</span> <span class="nav-text">0x06、关系型数据库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x07、关键字-SQL"><span class="nav-number">8.</span> <span class="nav-text">0x07、关键字(SQL)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x08、SQL语句"><span class="nav-number">9.</span> <span class="nav-text">0x08、SQL语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x09、内置函数-聚集函数-：不能组合使用"><span class="nav-number">10.</span> <span class="nav-text">0x09、内置函数(聚集函数)：不能组合使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x10、基本类型"><span class="nav-number">11.</span> <span class="nav-text">0x10、基本类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x11、匹配"><span class="nav-number">12.</span> <span class="nav-text">0x11、匹配</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x12、存储过程"><span class="nav-number">13.</span> <span class="nav-text">0x12、存储过程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x13、索引"><span class="nav-number">14.</span> <span class="nav-text">0x13、索引</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x14、数据库设计问题"><span class="nav-number">15.</span> <span class="nav-text">0x14、数据库设计问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x15、数据库设计步骤"><span class="nav-number">16.</span> <span class="nav-text">0x15、数据库设计步骤</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x16、mysql存储引擎"><span class="nav-number">17.</span> <span class="nav-text">0x16、mysql存储引擎</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x17、事务-锁"><span class="nav-number">18.</span> <span class="nav-text">0x17、事务/锁</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x18、备份-复制"><span class="nav-number">19.</span> <span class="nav-text">0x18、备份/复制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x19、优化建议"><span class="nav-number">20.</span> <span class="nav-text">0x19、优化建议</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x20、information-schema表"><span class="nav-number">21.</span> <span class="nav-text">0x20、information_schema表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x21、配置参数-show-variables"><span class="nav-number">22.</span> <span class="nav-text">0x21、配置参数:show variables;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x22、性能指标-show-status"><span class="nav-number">23.</span> <span class="nav-text">0x22、性能指标:show status;</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">hackfox</p>
  <div class="site-description" itemprop="description">架构、AI、python、rust</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">27</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/xsoer" title="GitHub → https://github.com/xsoer" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:codehackfox@gmail.com" title="E-Mail → mailto:codehackfox@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://stackoverflow.com/users/5746784/hackfox-code" title="StackOverflow → https://stackoverflow.com/users/5746784/hackfox-code" rel="noopener" target="_blank"><i class="fab fa-stack-overflow fa-fw"></i>StackOverflow</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://hackfox.vip" title="http://hackfox.vip" rel="noopener" target="_blank">hackfox</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">hackfox</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        
<div class="busuanzi-count">
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/pisces.js"></script>
<script src="/js/next-boot.js"></script>
  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




  <script src="/js/local-search.js"></script>












    <div id="pjax">
  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '7c7b02623259a39014a0',
      clientSecret: '07c01a3277dab0956ad91bad7d24b91a7e773990',
      repo        : 'xsoer.github.io',
      owner       : 'xsoer',
      admin       : ['xsoer'],
      id          : '91c6a5dbbccaa0b1f10506e0a4bcb8f6',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

    </div>
</body>
</html>
